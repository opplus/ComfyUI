{"last_node_id":1300,"last_link_id":3415,"nodes":[{"id":37,"type":"String Literal","pos":[-4370,-2030],"size":{"0":391.5850524902344,"1":152.6741180419922},"flags":{},"order":7,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[3095],"slot_index":0,"shape":3,"label":"STRING"}],"properties":{"Node name for S&R":"String Literal"},"widgets_values":["wear a blue suit",true]},{"id":219,"type":"Reroute","pos":[-4440,-1270],"size":[75,26],"flags":{},"order":8,"mode":0,"inputs":[{"name":"","type":"*","link":2889,"slot_index":0,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[3074],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":248,"type":"Reroute","pos":[-1400,-620],"size":[82,26],"flags":{},"order":46,"mode":0,"inputs":[{"name":"","type":"*","link":3125,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3307,3316,3401],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":249,"type":"Reroute","pos":[-1410,-330],"size":[75,26],"flags":{},"order":53,"mode":0,"inputs":[{"name":"","type":"*","link":2219,"label":""}],"outputs":[{"name":"MASK","type":"MASK","links":[3312,3317,3403],"slot_index":0,"label":"MASK"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":250,"type":"Reroute","pos":[-1390,-540],"size":[75,26],"flags":{},"order":14,"mode":0,"inputs":[{"name":"","type":"*","link":1617,"slot_index":0,"label":""}],"outputs":[{"name":"","type":"LORA_STACK","links":[3126],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":254,"type":"Reroute","pos":[-1410,-470],"size":[90.4,26],"flags":{},"order":15,"mode":0,"inputs":[{"name":"","type":"*","link":2088,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[3128],"slot_index":0,"label":"STRING"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":263,"type":"CR LoRA Stack","pos":[-3820,-2280],"size":{"0":394.4184265136719,"1":342},"flags":{},"order":5,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"LoRA堆"}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[1581],"slot_index":0,"shape":3,"label":"LORA_STACK"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR LoRA Stack"},"widgets_values":["Off","train_lora/Leisure Suit/snap_blue_suit_v5.safetensors",1,1,"Off","None",1,1,"Off","None",0.8,1]},{"id":277,"type":"Reroute","pos":[-1660,-580],"size":[75,26],"flags":{},"order":50,"mode":0,"inputs":[{"name":"","type":"*","link":3381,"label":""}],"outputs":[{"name":"MASK","type":"MASK","links":[2219],"slot_index":0,"label":"MASK"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":280,"type":"Reroute","pos":[-2970,-530],"size":[82,26],"flags":{},"order":34,"mode":0,"inputs":[{"name":"","type":"*","link":3029,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3284],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":288,"type":"Reroute","pos":[-3360,-1560],"size":[90.4,26],"flags":{},"order":12,"mode":0,"inputs":[{"name":"","type":"*","link":3095,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[2088],"slot_index":0,"label":"STRING"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":322,"type":"Reroute","pos":[-3330,-860],"size":[75,26],"flags":{},"order":16,"mode":0,"inputs":[{"name":"","type":"*","link":3258,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[3259],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":362,"type":"Reroute","pos":[-3330,-970],"size":[75,26],"flags":{},"order":24,"mode":0,"inputs":[{"name":"","type":"*","link":2563,"label":""}],"outputs":[{"name":"INT","type":"INT","links":[],"slot_index":0,"label":"INT"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":367,"type":"Reroute","pos":[-3330,-1280],"size":[82,26],"flags":{},"order":17,"mode":0,"inputs":[{"name":"","type":"*","link":2556,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2173],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":368,"type":"Reroute","pos":[-3330,-1230],"size":[82,26],"flags":{},"order":18,"mode":0,"inputs":[{"name":"","type":"*","link":2557,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2174],"slot_index":0,"label":""}],"properties":{"showOutputText":true,"horizontal":false}},{"id":391,"type":"Display Any (rgthree)","pos":[-3550,-1440],"size":{"0":210,"1":76.00001525878906},"flags":{},"order":23,"mode":0,"inputs":[{"name":"source","type":"*","link":2562,"label":"输入","dir":3}],"properties":{"Node name for S&R":"Display Any (rgthree)"},"widgets_values":["8"]},{"id":555,"type":"String Literal","pos":[-4380,-1760],"size":{"0":400,"1":200},"flags":{},"order":4,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[1326],"slot_index":0,"shape":3,"label":"STRING"}],"properties":{"Node name for S&R":"String Literal"},"widgets_values":["embedding:negativeXL_D.safetensors, NSFW, Head accessories,\"worst quality, low quality, illustration, 3d, 2d, cartoon, painting, cartoons, sketch, open mouth, long neck, watermark, text, extra fingers, inverted nipple, busty, large breasts, ugly, disgusting,beard\"",true]},{"id":556,"type":"Reroute","pos":[-1410,-410],"size":[90.4,26],"flags":{},"order":10,"mode":0,"inputs":[{"name":"","type":"*","link":1326,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[3129],"slot_index":0,"label":"STRING"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":680,"type":"LoadImage","pos":[-1020,-2290],"size":{"0":840,"1":1110},"flags":{},"order":0,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2889,3120,3276,3291],"slot_index":0,"shape":3,"label":"图像"},{"name":"MASK","type":"MASK","links":[],"slot_index":1,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["7.png","image"]},{"id":683,"type":"Image Comparer (rgthree)","pos":{"0":710,"1":-2270,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":750,"1":1040},"flags":{},"order":69,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":3344,"label":"图像_A","dir":3},{"name":"image_b","type":"IMAGE","link":3291,"label":"图像_B","dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_zfnax_00029_.png&type=temp&subfolder=&rand=0.1901407026948958"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_zfnax_00030_.png&type=temp&subfolder=&rand=0.253939934429128"}]]},{"id":690,"type":"Reroute","pos":[-3370,-1630],"size":[124,26],"flags":{},"order":11,"mode":0,"inputs":[{"name":"","type":"*","link":1581,"label":""}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[1617],"slot_index":0,"label":"LORA_STACK"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":693,"type":"Reroute","pos":[480,-590],"size":[75,26],"flags":{},"order":65,"mode":0,"inputs":[{"name":"","type":"*","link":3217,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[2875,3288],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":772,"type":"ImageToMask","pos":[-2050,-580],"size":{"0":315,"1":58},"flags":{},"order":48,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1906,"label":"图像"}],"outputs":[{"name":"MASK","type":"MASK","links":[3381],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":807,"type":"ImageBlend","pos":[-2410,-600],"size":{"0":315,"1":102},"flags":{},"order":44,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":3283,"label":"图像1"},{"name":"image2","type":"IMAGE","link":3284,"label":"图像2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1906],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"ImageBlend"},"widgets_values":[1,"difference"]},{"id":884,"type":"Reroute","pos":[-2960,-610],"size":[75,26],"flags":{},"order":37,"mode":0,"inputs":[{"name":"","type":"*","link":3260,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[3283],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":886,"type":"PreviewImage","pos":[-3270,-1980],"size":{"0":210,"1":250},"flags":{},"order":29,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3259,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":887,"type":"PreviewImage","pos":[-3020,-1980],"size":{"0":210,"1":250},"flags":{},"order":30,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2173,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":888,"type":"PreviewImage","pos":[-2780,-1970],"size":{"0":210,"1":250},"flags":{},"order":31,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2174,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":890,"type":"Reroute","pos":[-3330,-1080],"size":[82,26],"flags":{},"order":21,"mode":0,"inputs":[{"name":"","type":"*","link":2560,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2195,3257,3260],"slot_index":0,"label":""}],"properties":{"showOutputText":true,"horizontal":false}},{"id":896,"type":"PreviewImage","pos":[-2020,-1960],"size":{"0":210,"1":250},"flags":{},"order":35,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2195,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":947,"type":"Reroute","pos":[-3330,-1180],"size":[82,26],"flags":{},"order":19,"mode":0,"inputs":[{"name":"","type":"*","link":2558}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2365],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":948,"type":"Reroute","pos":[-3330,-1130],"size":[82,26],"flags":{},"order":20,"mode":0,"inputs":[{"name":"","type":"*","link":3027}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2366,3029],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":949,"type":"Reroute","pos":[-3340,-930],"size":[98.8,26],"flags":{},"order":26,"mode":0,"inputs":[{"name":"","type":"*","link":2565}],"outputs":[{"name":"BOOLEAN","type":"BOOLEAN","links":[],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":950,"type":"PreviewImage","pos":[-2550,-1980],"size":{"0":210,"1":250},"flags":{},"order":32,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2365,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":951,"type":"PreviewImage","pos":[-2300,-1970],"size":{"0":210,"1":250},"flags":{},"order":33,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2366,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":1009,"type":"Display Any (rgthree)","pos":[-3300,-1440],"size":{"0":210,"1":76},"flags":{},"order":25,"mode":0,"inputs":[{"name":"source","type":"*","link":2564,"label":"输入","dir":3}],"properties":{"Node name for S&R":"Display Any (rgthree)"},"widgets_values":["True"]},{"id":1013,"type":"Reroute","pos":[-2990,520],"size":[75,26],"flags":{},"order":27,"mode":0,"inputs":[{"name":"","type":"*","link":2566}],"outputs":[{"name":"","type":"IMAGE","links":[3362,3395],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1018,"type":"AliSegBodyHeadFace","pos":[-3890,-1270],"size":{"0":315,"1":286},"flags":{},"order":13,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3074,"label":"images"},{"name":"bodys","type":"IMAGE","link":null,"label":"bodys"},{"name":"prompt_cloth","type":"STRING","link":3098,"widget":{"name":"prompt_cloth"},"label":"prompt_cloth"},{"name":"prompt_background","type":"STRING","link":3097,"widget":{"name":"prompt_background"},"label":"prompt_background"}],"outputs":[{"name":"原图","type":"IMAGE","links":[3258],"slot_index":0,"shape":3,"label":"原图"},{"name":"head_gray","type":"IMAGE","links":[2556],"shape":3,"label":"head_gray"},{"name":"head_mask","type":"IMAGE","links":[2557],"slot_index":2,"shape":3,"label":"head_mask"},{"name":"hair_mask","type":"IMAGE","links":[2558],"slot_index":3,"shape":3,"label":"hair_mask"},{"name":"face_mask","type":"IMAGE","links":[3027],"slot_index":4,"shape":3,"label":"face_mask"},{"name":"人体mask","type":"IMAGE","links":[2560],"shape":3,"label":"人体mask"},{"name":"cloth_mask","type":"IMAGE","links":[2939],"slot_index":6,"shape":3,"label":"cloth_mask"},{"name":"动态膨胀系数","type":"INT","links":[2562,2563],"shape":3,"label":"动态膨胀系数"},{"name":"头发是否过肩膀","type":"BOOLEAN","links":[2564,2565],"shape":3,"label":"头发是否过肩膀"},{"name":"openpose","type":"IMAGE","links":[2566],"shape":3,"label":"openpose"}],"properties":{"Node name for S&R":"AliSegBodyHeadFace"},"widgets_values":["","",false]},{"id":1065,"type":"PreviewImage","pos":[-2780,-1400],"size":{"0":210,"1":250},"flags":{},"order":38,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2943,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":1110,"type":"Get resolution [Crystools]","pos":[800,-960],"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":66,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2875,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":1132,"type":"Get resolution [Crystools]","pos":[-2750,-1000],"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":36,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3257,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[3123],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[3124],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":1149,"type":"Reroute","pos":[-3330,-1020],"size":[75,26],"flags":{},"order":22,"mode":0,"inputs":[{"name":"","type":"*","link":2939}],"outputs":[{"name":"","type":"IMAGE","links":[2943],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1219,"type":"Primitive string [Crystools]","pos":[-4310,-1280],"size":{"0":315,"1":58},"flags":{},"order":1,"mode":0,"outputs":[{"name":"string","type":"STRING","links":[3098],"slot_index":0,"shape":3,"label":"字符串"}],"properties":{"Node name for S&R":"Primitive string [Crystools]"},"widgets_values":["flag2"]},{"id":1220,"type":"Primitive string [Crystools]","pos":[-4310,-1170],"size":{"0":315,"1":58},"flags":{},"order":2,"mode":0,"outputs":[{"name":"string","type":"STRING","links":[3097],"slot_index":0,"shape":3,"label":"字符串"}],"properties":{"Node name for S&R":"Primitive string [Crystools]"},"widgets_values":["240817001"]},{"id":1230,"type":"ImageResize+","pos":[-2200,-1000],"size":{"0":320,"1":220},"flags":{},"order":43,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3120,"label":"图像"},{"name":"width","type":"INT","link":3123,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":3124,"widget":{"name":"height"},"label":"高度"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3125,3397],"slot_index":0,"shape":3,"label":"图像"},{"name":"width","type":"INT","links":[],"slot_index":1,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":null,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[512,512,"nearest","stretch","always",0]},{"id":1231,"type":"Efficient Loader","pos":[-1090,-500],"size":{"0":400,"1":460},"flags":{},"order":28,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":3126,"label":"LoRA堆"},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":null,"label":"ControlNet堆"},{"name":"positive","type":"STRING","link":3128,"widget":{"name":"positive"},"label":"正面条件"},{"name":"negative","type":"STRING","link":3129,"widget":{"name":"negative"},"label":"负面条件"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[3352,3411],"slot_index":0,"shape":3,"label":"模型"},{"name":"CONDITIONING+","type":"CONDITIONING","links":[3334],"slot_index":1,"shape":3,"label":"正面条件"},{"name":"CONDITIONING-","type":"CONDITIONING","links":[3335],"slot_index":2,"shape":3,"label":"负面条件"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":[3321,3402],"slot_index":4,"shape":3,"label":"VAE"},{"name":"CLIP","type":"CLIP","links":null,"shape":3,"label":"CLIP"},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3,"label":"依赖"}],"properties":{"Node name for S&R":"Efficient Loader"},"widgets_values":["sdxl/dreamshaperXL_v21TurboDPMSDE.safetensors","Baked VAE",-1,"None",1,1,"CLIP_POSITIVE","CLIP_NEGATIVE","none","comfy++",512,512,1,true,true],"color":"#222233","bgcolor":"#333355","shape":1},{"id":1232,"type":"KSampler (Efficient)","pos":[90,-550],"size":[330,560],"flags":{},"order":64,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":3411,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":3404,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":3405,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":3406,"label":"Latent"},{"name":"optional_vae","type":"VAE","link":3321,"label":"VAE(可选)"},{"name":"script","type":"SCRIPT","link":null,"label":"脚本"}],"outputs":[{"name":"MODEL","type":"MODEL","links":null,"shape":3,"label":"模型"},{"name":"CONDITIONING+","type":"CONDITIONING","links":null,"shape":3,"label":"正面条件"},{"name":"CONDITIONING-","type":"CONDITIONING","links":null,"shape":3,"label":"负面条件"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":null,"shape":3,"label":"VAE"},{"name":"IMAGE","type":"IMAGE","links":[3217],"slot_index":5,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"KSampler (Efficient)"},"widgets_values":[-1,null,30,7,"dpmpp_2m_sde","karras",0.8,"auto","true"],"color":"#332222","bgcolor":"#553333","shape":1},{"id":1248,"type":"ControlNetLoader","pos":[-1800,410],"size":{"0":315,"1":58},"flags":{},"order":6,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[3231,3247,3386],"slot_index":0,"shape":3,"label":"ControlNet"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["controlnet-union-sdxl-promax-1.0.safetensors"]},{"id":1257,"type":"workflow/controlnet","pos":[-1260,510],"size":{"0":315,"1":190},"flags":{},"order":45,"mode":0,"inputs":[{"name":"ControlNet","type":"CONTROL_NET","link":3231,"label":"ControlNet"},{"name":"正面条件","type":"CONDITIONING","link":3346,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","link":3347,"label":"负面条件"},{"name":"图像","type":"IMAGE","link":3362,"label":"图像"}],"outputs":[{"name":"正面条件","type":"CONDITIONING","links":[3384,3408],"slot_index":0,"shape":3,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","links":[3385,3409],"slot_index":1,"shape":3,"label":"负面条件"}],"properties":{"Node name for S&R":"workflow/controlnet"},"widgets_values":["openpose",1,0,1]},{"id":1259,"type":"Reroute","pos":[-230,350],"size":[140.8,26],"flags":{},"order":62,"mode":0,"inputs":[{"name":"","type":"*","link":3314,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3404],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1260,"type":"Reroute","pos":[-230,390],"size":[140.8,26],"flags":{},"order":63,"mode":0,"inputs":[{"name":"","type":"*","link":3315,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3405],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1262,"type":"workflow/controlnet","pos":[-710,520],"size":{"0":315,"1":190},"flags":{},"order":61,"mode":0,"inputs":[{"name":"ControlNet","type":"CONTROL_NET","link":3247,"label":"ControlNet"},{"name":"正面条件","type":"CONDITIONING","link":3408,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","link":3409,"label":"负面条件"},{"name":"图像","type":"IMAGE","link":3415,"label":"图像"}],"outputs":[{"name":"正面条件","type":"CONDITIONING","links":[3314],"slot_index":0,"shape":3,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","links":[3315],"slot_index":1,"shape":3,"label":"负面条件"}],"properties":{"Node name for S&R":"workflow/controlnet"},"widgets_values":["repaint",0.8,0,1]},{"id":1265,"type":"Get resolution [Crystools]","pos":[340,-940],"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":9,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3276,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[3287],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[3286],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":1267,"type":"Get resolution [Crystools]","pos":[1170,-930],"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":68,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3289,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":1268,"type":"ImageResize+","pos":[720,-590],"size":{"0":315,"1":218},"flags":{"collapsed":false},"order":67,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3288,"label":"图像"},{"name":"width","type":"INT","link":3287,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":3286,"widget":{"name":"height"},"label":"高度"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3289,3344],"slot_index":0,"shape":3,"label":"图像"},{"name":"width","type":"INT","links":null,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":null,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[768,1024,"nearest","stretch","always",0]},{"id":1274,"type":"Snapme ImgProcess Step3","pos":[-300,-1010],"size":{"0":315,"1":262},"flags":{},"order":59,"mode":0,"inputs":[{"name":"image_res_1","type":"IMAGE","link":null,"label":"image_res_1"},{"name":"face_mask","type":"IMAGE","link":3309,"label":"face_mask"},{"name":"control_mask_face","type":"IMAGE","link":3310,"label":"control_mask_face"},{"name":"face_image_pad","type":"IMAGE","link":3307,"label":"face_image_pad"}],"outputs":[{"name":"脸部回帖图","type":"IMAGE","links":[],"slot_index":0,"shape":3,"label":"脸部回帖图"}],"properties":{"Node name for S&R":"Snapme ImgProcess Step3"},"widgets_values":[0,12,false,0,0,true,false]},{"id":1275,"type":"MaskToImage","pos":[-1070,-950],"size":{"0":210,"1":26},"flags":{},"order":57,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3313,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3309,3310],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":1276,"type":"InvertMask","pos":[-1370,-970],"size":{"0":210,"1":26},"flags":{},"order":54,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3312,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[3313],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"InvertMask"}},{"id":1277,"type":"InpaintPreprocessor","pos":[-1060,140],"size":{"0":210,"1":46},"flags":{},"order":55,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3316,"label":"图像"},{"name":"mask","type":"MASK","link":3317,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3327],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"InpaintPreprocessor"}},{"id":1280,"type":"Images to RGB","pos":[-780,150],"size":{"0":210,"1":26},"flags":{},"order":58,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3327,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3331,3415],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"Images to RGB"}},{"id":1281,"type":"PreviewImage","pos":[-140,-2270],"size":{"0":790,"1":1080},"flags":{},"order":60,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3331,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":1282,"type":"Reroute","pos":[-1430,340],"size":[75,26],"flags":{},"order":41,"mode":0,"inputs":[{"name":"","type":"*","link":3334}],"outputs":[{"name":"","type":"CONDITIONING","links":[3346],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1283,"type":"Reroute","pos":[-1430,380],"size":[75,26],"flags":{},"order":42,"mode":0,"inputs":[{"name":"","type":"*","link":3335}],"outputs":[{"name":"","type":"CONDITIONING","links":[3347],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1284,"type":"DifferentialDiffusion","pos":[-390,-480],"size":{"0":210,"1":26},"flags":{},"order":40,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":3352,"label":"模型"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[],"slot_index":0,"shape":3,"label":"模型"}],"properties":{"Node name for S&R":"DifferentialDiffusion"}},{"id":1289,"type":"AIO_Preprocessor","pos":[-2700,410],"size":{"0":315,"1":82},"flags":{},"order":49,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3398,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3389,3394],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["CannyEdgePreprocessor",1024]},{"id":1291,"type":"workflow/controlnet","pos":[-1260,780],"size":{"0":315,"1":190},"flags":{},"order":51,"mode":0,"inputs":[{"name":"ControlNet","type":"CONTROL_NET","link":3386,"label":"ControlNet"},{"name":"正面条件","type":"CONDITIONING","link":3384,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","link":3385,"label":"负面条件"},{"name":"图像","type":"IMAGE","link":3389,"label":"图像"}],"outputs":[{"name":"正面条件","type":"CONDITIONING","links":[],"slot_index":0,"shape":3,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","links":[],"slot_index":1,"shape":3,"label":"负面条件"}],"properties":{"Node name for S&R":"workflow/controlnet"},"widgets_values":["canny/lineart/anime_lineart/mlsd",0.3,0,1]},{"id":1292,"type":"PreviewImage","pos":[-1780,880],"size":{"0":210,"1":250},"flags":{},"order":52,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3394,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":1293,"type":"PreviewImage","pos":[-2060,890],"size":{"0":210,"1":250},"flags":{},"order":39,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3395,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":1294,"type":"Reroute","pos":[-2990,390],"size":[75,26],"flags":{},"order":47,"mode":0,"inputs":[{"name":"","type":"*","link":3397}],"outputs":[{"name":"","type":"IMAGE","links":[3398],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1295,"type":"VAEEncodeForInpaint","pos":[-450,-340],"size":{"0":315,"1":98},"flags":{},"order":56,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":3401,"label":"图像"},{"name":"vae","type":"VAE","link":3402,"label":"VAE"},{"name":"mask","type":"MASK","link":3403,"label":"遮罩"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[3406],"slot_index":0,"shape":3,"label":"Latent"}],"properties":{"Node name for S&R":"VAEEncodeForInpaint"},"widgets_values":[6]},{"id":1296,"type":"String Literal","pos":[-5010,-1880],"size":{"0":400,"1":200},"flags":{},"order":3,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[],"slot_index":0,"shape":3,"label":"STRING"}],"properties":{"Node name for S&R":"String Literal"},"widgets_values":["\"embedding:negativeXL_D.safetensors\", \"NSFW\", \"Head accessories\",\"(worst quality, low quality, illustration, 3d, 2d, cartoon, painting, cartoons, sketch)+, open mouth, (long neck)+, (watermark)+, (text)+, extra fingers, inverted nipple, busty, large breasts, ugly, disgusting,(beard)++\"",true]}],"links":[[1326,555,0,556,0,"*"],[1581,263,0,690,0,"*"],[1617,690,0,250,0,"*"],[1906,807,0,772,0,"IMAGE"],[2088,288,0,254,0,"*"],[2173,367,0,887,0,"IMAGE"],[2174,368,0,888,0,"IMAGE"],[2195,890,0,896,0,"IMAGE"],[2219,277,0,249,0,"*"],[2365,947,0,950,0,"IMAGE"],[2366,948,0,951,0,"IMAGE"],[2556,1018,1,367,0,"*"],[2557,1018,2,368,0,"*"],[2558,1018,3,947,0,"*"],[2560,1018,5,890,0,"*"],[2562,1018,7,391,0,"*"],[2563,1018,7,362,0,"*"],[2564,1018,8,1009,0,"*"],[2565,1018,8,949,0,"*"],[2566,1018,9,1013,0,"*"],[2875,693,0,1110,0,"IMAGE"],[2889,680,0,219,0,"*"],[2939,1018,6,1149,0,"*"],[2943,1149,0,1065,0,"IMAGE"],[3027,1018,4,948,0,"*"],[3029,948,0,280,0,"*"],[3074,219,0,1018,0,"IMAGE"],[3095,37,0,288,0,"*"],[3097,1220,0,1018,3,"STRING"],[3098,1219,0,1018,2,"STRING"],[3120,680,0,1230,0,"IMAGE"],[3123,1132,0,1230,1,"INT"],[3124,1132,1,1230,2,"INT"],[3125,1230,0,248,0,"*"],[3126,250,0,1231,0,"LORA_STACK"],[3128,254,0,1231,2,"STRING"],[3129,556,0,1231,3,"STRING"],[3217,1232,5,693,0,"*"],[3231,1248,0,1257,0,"CONTROL_NET"],[3247,1248,0,1262,0,"CONTROL_NET"],[3257,890,0,1132,0,"IMAGE"],[3258,1018,0,322,0,"*"],[3259,322,0,886,0,"IMAGE"],[3260,890,0,884,0,"*"],[3276,680,0,1265,0,"IMAGE"],[3283,884,0,807,0,"IMAGE"],[3284,280,0,807,1,"IMAGE"],[3286,1265,1,1268,2,"INT"],[3287,1265,0,1268,1,"INT"],[3288,693,0,1268,0,"IMAGE"],[3289,1268,0,1267,0,"IMAGE"],[3291,680,0,683,1,"IMAGE"],[3307,248,0,1274,3,"IMAGE"],[3309,1275,0,1274,1,"IMAGE"],[3310,1275,0,1274,2,"IMAGE"],[3312,249,0,1276,0,"MASK"],[3313,1276,0,1275,0,"MASK"],[3314,1262,0,1259,0,"*"],[3315,1262,1,1260,0,"*"],[3316,248,0,1277,0,"IMAGE"],[3317,249,0,1277,1,"MASK"],[3321,1231,4,1232,4,"VAE"],[3327,1277,0,1280,0,"IMAGE"],[3331,1280,0,1281,0,"IMAGE"],[3334,1231,1,1282,0,"*"],[3335,1231,2,1283,0,"*"],[3344,1268,0,683,0,"IMAGE"],[3346,1282,0,1257,1,"CONDITIONING"],[3347,1283,0,1257,2,"CONDITIONING"],[3352,1231,0,1284,0,"MODEL"],[3362,1013,0,1257,3,"IMAGE"],[3381,772,0,277,0,"*"],[3384,1257,0,1291,1,"CONDITIONING"],[3385,1257,1,1291,2,"CONDITIONING"],[3386,1248,0,1291,0,"CONTROL_NET"],[3389,1289,0,1291,3,"IMAGE"],[3394,1289,0,1292,0,"IMAGE"],[3395,1013,0,1293,0,"IMAGE"],[3397,1230,0,1294,0,"*"],[3398,1294,0,1289,0,"IMAGE"],[3401,248,0,1295,0,"IMAGE"],[3402,1231,4,1295,1,"VAE"],[3403,249,0,1295,2,"MASK"],[3404,1259,0,1232,1,"CONDITIONING"],[3405,1260,0,1232,2,"CONDITIONING"],[3406,1295,0,1232,3,"LATENT"],[3408,1257,0,1262,1,"CONDITIONING"],[3409,1257,1,1262,2,"CONDITIONING"],[3411,1231,0,1232,0,"MODEL"],[3415,1280,0,1262,3,"IMAGE"]],"groups":[{"title":"服装+背景一次生成","bounding":[-1370,-680,1890,900],"color":"#3f789e","font_size":24,"locked":false},{"title":"重回区域遮罩","bounding":[-2920,-680,1311,854],"color":"#3f789e","font_size":24,"locked":false},{"title":"ControlNet","bounding":[-2950,290,2790,850],"color":"#3f789e","font_size":24,"locked":false},{"title":"图像预处理","bounding":[-4400,-1350,1112,548],"color":"#3f789e","font_size":24,"locked":false},{"title":"用户输入","bounding":[-4430,-2390,1126,877],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{"ds":{"scale":0.34522712143935225,"offset":[1306.8026048933675,2359.457506620403]},"workspace_info":{"id":"PwwKhD41JvACKtDWhf9B8","saveLock":false,"cloudID":null,"coverMediaPath":null},"groupNodes":{"controlnet":{"nodes":[{"type":"SetUnionControlNetType","pos":[-1440,680],"size":{"0":315,"1":58},"flags":{},"order":15,"mode":0,"inputs":[{"name":"control_net","type":"CONTROL_NET","link":null,"label":"ControlNet"}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[],"shape":3,"label":"ControlNet","slot_index":0}],"properties":{"Node name for S&R":"SetUnionControlNetType"},"widgets_values":["canny/lineart/anime_lineart/mlsd"],"index":0},{"type":"ControlNetApplyAdvanced","pos":[-1440,460],"size":{"0":315,"1":166},"flags":{},"order":82,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":null,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":null,"label":"负面条件"},{"name":"control_net","type":"CONTROL_NET","link":null,"label":"ControlNet"},{"name":"image","type":"IMAGE","link":null,"label":"图像"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[],"shape":3,"label":"正面条件","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[],"shape":3,"label":"负面条件","slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.2,0,0.5],"index":1}],"links":[[null,0,0,0,1248,"CONTROL_NET"],[null,1,1,0,1231,"CONDITIONING"],[null,2,1,1,1231,"CONDITIONING"],[0,0,1,2,1253,"CONTROL_NET"],[null,0,1,3,1189,"IMAGE"]],"external":[[1,0,"CONDITIONING"],[1,1,"CONDITIONING"]]}}},"version":0.4}