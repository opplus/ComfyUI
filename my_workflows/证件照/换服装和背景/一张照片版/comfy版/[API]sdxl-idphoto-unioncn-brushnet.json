{"last_node_id":1240,"last_link_id":3129,"nodes":[{"id":37,"type":"String Literal","pos":[-4380,-2260],"size":{"0":391.5850524902344,"1":152.6741180419922},"flags":{},"order":0,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[444,3011],"slot_index":0,"shape":3,"label":"STRING"}],"properties":{"Node name for S&R":"String Literal"},"widgets_values":["cloth",true]},{"id":139,"type":"ImageToMask","pos":[-2750,-560],"size":{"0":315,"1":58},"flags":{},"order":49,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1125,"label":"图像"}],"outputs":[{"name":"MASK","type":"MASK","links":[3096],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":218,"type":"AIO_Preprocessor","pos":[-2850,760],"size":{"0":320,"1":80},"flags":{},"order":52,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1902,"label":"图像"},{"name":"resolution","type":"INT","link":2543,"widget":{"name":"resolution"},"label":"分辨率"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[429],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["DepthAnythingV2Preprocessor",768]},{"id":219,"type":"Reroute","pos":[-4460,-1330],"size":[75,26],"flags":{},"order":13,"mode":0,"inputs":[{"name":"","type":"*","link":3128,"slot_index":0,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[3129],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":223,"type":"ImageCompositedMaskedWeight","pos":[-2010,780],"size":{"0":315,"1":78},"flags":{},"order":63,"mode":0,"inputs":[{"name":"source","type":"IMAGE","link":1996,"label":"source"},{"name":"mask","type":"IMAGE","link":2868,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3119],"slot_index":0,"shape":3,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageCompositedMaskedWeight"},"widgets_values":[0.1]},{"id":228,"type":"ImageResize+","pos":[-2440,740],"size":{"0":315,"1":218},"flags":{"collapsed":false},"order":56,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":429,"label":"图像"},{"name":"width","type":"INT","link":1657,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":1658,"widget":{"name":"height"},"label":"高度"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1996],"slot_index":0,"shape":3,"label":"图像"},{"name":"width","type":"INT","links":null,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":null,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[768,1024,"nearest","stretch","always",0]},{"id":238,"type":"String Literal","pos":[-4370,-2040],"size":{"0":400,"1":200},"flags":{},"order":1,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[990,3012],"slot_index":0,"shape":3,"label":"STRING"}],"properties":{"Node name for S&R":"String Literal"},"widgets_values":["bg",true]},{"id":239,"type":"JoinStrings","pos":[-3817.4332513524496,-1821.3762887421278],"size":{"0":315,"1":106},"flags":{},"order":8,"mode":0,"inputs":[{"name":"string1","type":"STRING","link":444,"widget":{"name":"string1"},"label":"字符串1"},{"name":"string2","type":"STRING","link":990,"widget":{"name":"string2"},"label":"字符串2"}],"outputs":[{"name":"STRING","type":"STRING","links":[2764],"slot_index":0,"shape":3,"label":"字符串"}],"properties":{"Node name for S&R":"JoinStrings"},"widgets_values":["","",","]},{"id":248,"type":"Reroute","pos":[-1400,-640],"size":[82,26],"flags":{},"order":34,"mode":0,"inputs":[{"name":"","type":"*","link":2319,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2997],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":249,"type":"Reroute","pos":[-1400,-320],"size":[75,26],"flags":{},"order":61,"mode":0,"inputs":[{"name":"","type":"*","link":2219,"label":""}],"outputs":[{"name":"MASK","type":"MASK","links":[2211],"slot_index":0,"label":"MASK"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":250,"type":"Reroute","pos":[-1390,-560],"size":[75,26],"flags":{},"order":15,"mode":0,"inputs":[{"name":"","type":"*","link":1617,"slot_index":0,"label":""}],"outputs":[{"name":"","type":"LORA_STACK","links":[2818],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":254,"type":"Reroute","pos":[-1410,-490],"size":[90.4,26],"flags":{},"order":17,"mode":0,"inputs":[{"name":"","type":"*","link":2088,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[2968],"slot_index":0,"label":"STRING"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":263,"type":"CR LoRA Stack","pos":[-3840,-2250],"size":{"0":394.4184265136719,"1":342},"flags":{},"order":2,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"LoRA堆"}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[1581],"slot_index":0,"shape":3,"label":"LORA_STACK"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR LoRA Stack"},"widgets_values":["On","snapmecloth/0702/webulora/Black-shirt.safetensors",1,1,"On","sdxl/Professional_Portrait.safetensors",0.6,1,"Off","None",0.8,1]},{"id":277,"type":"Reroute","pos":[-1650,-580],"size":[75,26],"flags":{},"order":59,"mode":0,"inputs":[{"name":"","type":"*","link":3097,"label":""}],"outputs":[{"name":"MASK","type":"MASK","links":[2219],"slot_index":0,"label":"MASK"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":280,"type":"Reroute","pos":[-2970,-630],"size":[82,26],"flags":{},"order":38,"mode":0,"inputs":[{"name":"","type":"*","link":3029,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1125],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":288,"type":"Reroute","pos":[-3357.4332513524478,-1561.3762887421276],"size":[90.4,26],"flags":{},"order":14,"mode":0,"inputs":[{"name":"","type":"*","link":2764,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[2088],"slot_index":0,"label":"STRING"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":301,"type":"Reroute","pos":[-2990,510],"size":[82,26],"flags":{},"order":44,"mode":0,"inputs":[{"name":"","type":"*","link":1983,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1902,2021],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":302,"type":"Reroute","pos":[-2990,700],"size":[75,26],"flags":{},"order":32,"mode":0,"inputs":[{"name":"","type":"*","link":1665,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[579,1657,2542,2543],"slot_index":0,"label":"INT"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":303,"type":"Reroute","pos":[-2990,760],"size":[75,26],"flags":{},"order":33,"mode":0,"inputs":[{"name":"","type":"*","link":1666,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[580,1658],"slot_index":0,"label":"INT"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":304,"type":"Reroute","pos":[-3780,380],"size":[82,26],"flags":{},"order":36,"mode":0,"inputs":[{"name":"","type":"*","link":2334,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2861],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":307,"type":"ImageResize+","pos":[-2440,460],"size":{"0":315,"1":218},"flags":{"collapsed":false},"order":57,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2022,"label":"图像"},{"name":"width","type":"INT","link":579,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":580,"widget":{"name":"height"},"label":"高度"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2865],"slot_index":0,"shape":3,"label":"图像"},{"name":"width","type":"INT","links":null,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":null,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[768,1024,"nearest","stretch","always",0]},{"id":309,"type":"ImageCompositedMaskedWeight","pos":[-2010,480],"size":{"0":315,"1":78},"flags":{},"order":62,"mode":0,"inputs":[{"name":"source","type":"IMAGE","link":2865,"label":"source"},{"name":"mask","type":"IMAGE","link":2867,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3118],"slot_index":0,"shape":3,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageCompositedMaskedWeight"},"widgets_values":[0.1]},{"id":322,"type":"Reroute","pos":[-3360,-900],"size":[75,26],"flags":{},"order":30,"mode":0,"inputs":[{"name":"","type":"*","link":2524,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[1983],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":333,"type":"Get resolution [Crystools]","pos":[-3820,-960],"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":19,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2555,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[1665],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[1666],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":362,"type":"Reroute","pos":[-3350,-970],"size":[75,26],"flags":{},"order":26,"mode":0,"inputs":[{"name":"","type":"*","link":2563,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[2317],"slot_index":0,"label":"INT"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":367,"type":"Reroute","pos":[-3350,-1280],"size":[82,26],"flags":{},"order":20,"mode":0,"inputs":[{"name":"","type":"*","link":2556,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2319],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":368,"type":"Reroute","pos":[-3350,-1230],"size":[82,26],"flags":{},"order":21,"mode":0,"inputs":[{"name":"","type":"*","link":2557,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2299,2334],"slot_index":0,"label":""}],"properties":{"showOutputText":true,"horizontal":false}},{"id":555,"type":"String Literal","pos":[-4380,-1760],"size":{"0":400,"1":200},"flags":{},"order":3,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[1326],"slot_index":0,"shape":3,"label":"STRING"}],"properties":{"Node name for S&R":"String Literal"},"widgets_values":["negative",true]},{"id":556,"type":"Reroute","pos":[-1410,-430],"size":[90.4,26],"flags":{},"order":10,"mode":0,"inputs":[{"name":"","type":"*","link":1326,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[2817],"slot_index":0,"label":"STRING"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":690,"type":"Reroute","pos":[-3367.4332513524478,-1631.3762887421276],"size":[124,26],"flags":{},"order":9,"mode":0,"inputs":[{"name":"","type":"*","link":1581,"label":""}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[1617],"slot_index":0,"label":"LORA_STACK"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":693,"type":"Reroute","pos":[1170,-630],"size":[75,26],"flags":{},"order":71,"mode":0,"inputs":[{"name":"","type":"*","link":2842,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[2310],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":844,"type":"AIO_Preprocessor","pos":[-2840,470],"size":{"0":320,"1":80},"flags":{},"order":53,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2021,"label":"图像"},{"name":"resolution","type":"INT","link":2542,"widget":{"name":"resolution"},"label":"分辨率"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2022],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["AnyLineArtPreprocessor_aux",768]},{"id":875,"type":"BrushNet","pos":[-250,-270],"size":{"0":315,"1":226},"flags":{},"order":68,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":3013,"label":"模型"},{"name":"vae","type":"VAE","link":2835,"label":"VAE"},{"name":"image","type":"IMAGE","link":2997,"label":"图像"},{"name":"mask","type":"MASK","link":2211,"label":"遮罩"},{"name":"brushnet","type":"BRMODEL","link":2207,"slot_index":4,"label":"BrushNet"},{"name":"positive","type":"CONDITIONING","link":3124,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":3125,"label":"负面条件"}],"outputs":[{"name":"model","type":"MODEL","links":[2993],"slot_index":0,"shape":3,"label":"模型"},{"name":"positive","type":"CONDITIONING","links":[2854],"slot_index":1,"shape":3,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","links":[2855],"slot_index":2,"shape":3,"label":"负面条件"},{"name":"latent","type":"LATENT","links":[2860],"slot_index":3,"shape":3,"label":"Latent"}],"properties":{"Node name for S&R":"BrushNet"},"widgets_values":[0.6000000000000001,0,1000]},{"id":876,"type":"BrushNetLoader","pos":[-240,50],"size":{"0":315,"1":82},"flags":{},"order":4,"mode":0,"outputs":[{"name":"brushnet","type":"BRMODEL","links":[2207],"shape":3,"label":"BrushNet"}],"properties":{"Node name for S&R":"BrushNetLoader"},"widgets_values":["brushnet_xl/segmentation_mask_brushnet_ckpt_v1.safetensors","float16"]},{"id":882,"type":"Snapme ImgProcess Step3","pos":[1980,-510],"size":{"0":320,"1":260},"flags":{},"order":73,"mode":0,"inputs":[{"name":"image_res_1","type":"IMAGE","link":2585,"label":"image_res_1"},{"name":"face_mask","type":"IMAGE","link":2584,"label":"face_mask"},{"name":"control_mask_face","type":"IMAGE","link":2586,"label":"control_mask_face"},{"name":"face_image_pad","type":"IMAGE","link":2316,"label":"face_image_pad"},{"name":"dilate_iter","type":"INT","link":2430,"slot_index":4,"widget":{"name":"dilate_iter"},"label":"dilate_iter"},{"name":"use_hair","type":"BOOLEAN","link":2509,"slot_index":5,"widget":{"name":"use_hair"},"label":"use_hair"},{"name":"restore_width","type":"INT","link":2382,"widget":{"name":"restore_width"},"label":"restore_width"},{"name":"restore_height","type":"INT","link":2383,"widget":{"name":"restore_height"},"label":"restore_height"}],"outputs":[{"name":"脸部回帖图","type":"IMAGE","links":[3085],"slot_index":0,"shape":3,"label":"脸部回帖图"}],"properties":{"Node name for S&R":"Snapme ImgProcess Step3"},"widgets_values":[0,0,false,0,0,true,false]},{"id":885,"type":"Reroute","pos":[-3360,-1330],"size":[82,26],"flags":{},"order":18,"mode":0,"inputs":[{"name":"","type":"*","link":2554,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2524,2589],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":890,"type":"Reroute","pos":[-3350,-1080],"size":[82,26],"flags":{},"order":24,"mode":0,"inputs":[{"name":"","type":"*","link":2560,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2967],"slot_index":0,"label":""}],"properties":{"showOutputText":true,"horizontal":false}},{"id":932,"type":"Reroute","pos":[1170,-870],"size":[75,26],"flags":{},"order":35,"mode":0,"inputs":[{"name":"","type":"*","link":2299,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[2371],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":936,"type":"Reroute","pos":[1630,-570],"size":[75,26],"flags":{},"order":72,"mode":0,"inputs":[{"name":"","type":"*","link":2310,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[2585],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":937,"type":"Reroute","pos":[1630,-520],"size":[75,26],"flags":{},"order":48,"mode":0,"inputs":[{"name":"","type":"*","link":2370,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[2584],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":938,"type":"Reroute","pos":[1630,-430],"size":[75,26],"flags":{},"order":45,"mode":0,"inputs":[{"name":"","type":"*","link":2641,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[2316],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":939,"type":"Reroute","pos":[1630,-390],"size":[75,26],"flags":{},"order":40,"mode":0,"inputs":[{"name":"","type":"*","link":2317,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[2430],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":947,"type":"Reroute","pos":[-3350,-1180],"size":[82,26],"flags":{},"order":22,"mode":0,"inputs":[{"name":"","type":"*","link":2558}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":948,"type":"Reroute","pos":[-3350,-1130],"size":[82,26],"flags":{},"order":23,"mode":0,"inputs":[{"name":"","type":"*","link":3027}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2368,3029],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":949,"type":"Reroute","pos":[-3360,-930],"size":[98.8,26],"flags":{},"order":27,"mode":0,"inputs":[{"name":"","type":"*","link":2565,"widget":{"name":"value"}}],"outputs":[{"name":"BOOLEAN","type":"BOOLEAN","links":[2374],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":952,"type":"Reroute","pos":[1170,-800],"size":[75,26],"flags":{},"order":37,"mode":0,"inputs":[{"name":"","type":"*","link":2368}],"outputs":[{"name":"","type":"IMAGE","links":[2370],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":953,"type":"Reroute","pos":[1630,-480],"size":[75,26],"flags":{},"order":46,"mode":0,"inputs":[{"name":"","type":"*","link":2371,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[2586],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":954,"type":"Reroute","pos":[1630,-330],"size":[75,26],"flags":{},"order":41,"mode":0,"inputs":[{"name":"","type":"*","link":2374,"slot_index":0,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"BOOLEAN","links":[2509],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":958,"type":"Reroute","pos":[1170,-1000],"size":[75,26],"flags":{},"order":11,"mode":0,"inputs":[{"name":"","type":"*","link":2906,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[2382],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":959,"type":"Reroute","pos":[1170,-940],"size":[75,26],"flags":{},"order":12,"mode":0,"inputs":[{"name":"","type":"*","link":2907,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[2383],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1013,"type":"Reroute","pos":[-2990,840],"size":[75,26],"flags":{},"order":28,"mode":0,"inputs":[{"name":"","type":"*","link":2566}],"outputs":[{"name":"","type":"IMAGE","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1018,"type":"AliSegBodyHeadFace","pos":[-3910,-1330],"size":{"0":315,"1":286},"flags":{},"order":16,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3129,"label":"images"},{"name":"bodys","type":"IMAGE","link":null,"label":"bodys"},{"name":"prompt_cloth","type":"STRING","link":3011,"widget":{"name":"prompt_cloth"},"label":"prompt_cloth"},{"name":"prompt_background","type":"STRING","link":3012,"widget":{"name":"prompt_background"},"label":"prompt_background"}],"outputs":[{"name":"原图","type":"IMAGE","links":[2554,2555],"shape":3,"label":"原图"},{"name":"head_gray","type":"IMAGE","links":[2556],"shape":3,"label":"head_gray"},{"name":"head_mask","type":"IMAGE","links":[2557],"slot_index":2,"shape":3,"label":"head_mask"},{"name":"hair_mask","type":"IMAGE","links":[2558],"slot_index":3,"shape":3,"label":"hair_mask"},{"name":"face_mask","type":"IMAGE","links":[3027],"slot_index":4,"shape":3,"label":"face_mask"},{"name":"人体mask","type":"IMAGE","links":[2560],"shape":3,"label":"人体mask"},{"name":"cloth_mask","type":"IMAGE","links":[2939],"slot_index":6,"shape":3,"label":"cloth_mask"},{"name":"动态膨胀系数","type":"INT","links":[2563],"shape":3,"label":"动态膨胀系数"},{"name":"头发是否过肩膀","type":"BOOLEAN","links":[2565],"shape":3,"label":"头发是否过肩膀"},{"name":"openpose","type":"IMAGE","links":[2566],"shape":3,"label":"openpose"}],"properties":{"Node name for S&R":"AliSegBodyHeadFace"},"widgets_values":["","",false]},{"id":1027,"type":"Reroute","pos":[1170,-750],"size":[75,26],"flags":{},"order":31,"mode":0,"inputs":[{"name":"","type":"*","link":2589}],"outputs":[{"name":"","type":"IMAGE","links":[2641],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1096,"type":"Eff. Loader SDXL","pos":[-1230,-590],"size":[380,590],"flags":{},"order":29,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":2818,"label":"LoRA堆"},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":null,"label":"ControlNet堆"},{"name":"positive","type":"STRING","link":2968,"widget":{"name":"positive"},"label":"正面条件"},{"name":"negative","type":"STRING","link":2817,"widget":{"name":"negative"},"label":"负面条件"}],"outputs":[{"name":"SDXL_TUPLE","type":"SDXL_TUPLE","links":[2820],"slot_index":0,"shape":3,"label":"SDXL元组"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":[2834],"slot_index":2,"shape":3,"label":"VAE"},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3,"label":"依赖"}],"properties":{"Node name for S&R":"Eff. Loader SDXL"},"widgets_values":["sdxl/realvisxlV40_v40Bakedvae.safetensors",-2,"sdxl/sd_xl_refiner_1.0.safetensors",-1,6,3,"Baked VAE","CLIP_POSITIVE","CLIP_NEGATIVE","none","compel",1024,1024,1,true,true],"color":"#2a363b","bgcolor":"#3f5159","shape":1},{"id":1097,"type":"Unpack SDXL Tuple","pos":[-770,-530],"size":{"0":405.5999755859375,"1":166},"flags":{},"order":42,"mode":0,"inputs":[{"name":"sdxl_tuple","type":"SDXL_TUPLE","link":2820,"label":"SDXL元组"}],"outputs":[{"name":"BASE_MODEL","type":"MODEL","links":[3013],"slot_index":0,"shape":3,"label":"模型"},{"name":"BASE_CLIP","type":"CLIP","links":[2841],"slot_index":1,"shape":3,"label":"CLIP"},{"name":"BASE_CONDITIONING+","type":"CONDITIONING","links":[3105],"slot_index":2,"shape":3,"label":"正面条件"},{"name":"BASE_CONDITIONING-","type":"CONDITIONING","links":[3106],"slot_index":3,"shape":3,"label":"负面条件"},{"name":"REFINER_MODEL","type":"MODEL","links":[2837],"slot_index":4,"shape":3,"label":"模型(Refiner)"},{"name":"REFINER_CLIP","type":"CLIP","links":[2838],"slot_index":5,"shape":3,"label":"CLIP(Refiner)"},{"name":"REFINER_CONDITIONING+","type":"CONDITIONING","links":[2839],"slot_index":6,"shape":3,"label":"正面条件(Refiner)"},{"name":"REFINER_CONDITIONING-","type":"CONDITIONING","links":[2840],"slot_index":7,"shape":3,"label":"负面条件(Refiner)"}],"properties":{"Node name for S&R":"Unpack SDXL Tuple"},"shape":1},{"id":1099,"type":"KSampler SDXL (Eff.)","pos":[630,-540],"size":{"0":330,"1":550},"flags":{},"order":70,"mode":0,"inputs":[{"name":"sdxl_tuple","type":"SDXL_TUPLE","link":2829,"slot_index":0,"label":"SDXL元组"},{"name":"latent_image","type":"LATENT","link":2860,"label":"Latent"},{"name":"optional_vae","type":"VAE","link":2836,"label":"VAE(可选)"},{"name":"script","type":"SCRIPT","link":null,"label":"脚本"}],"outputs":[{"name":"SDXL_TUPLE","type":"SDXL_TUPLE","links":null,"shape":3,"label":"SDXL元组"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":null,"shape":3,"label":"VAE"},{"name":"IMAGE","type":"IMAGE","links":[2842],"slot_index":3,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"KSampler SDXL (Eff.)"},"widgets_values":[20348021007866,null,35,7,"dpmpp_2m_sde_gpu","karras",0,30,"none","true"],"color":"#223333","bgcolor":"#335555","shape":1},{"id":1100,"type":"Pack SDXL Tuple","pos":[40,-520],"size":{"0":342.5999755859375,"1":166},"flags":{},"order":69,"mode":0,"inputs":[{"name":"base_model","type":"MODEL","link":2993,"label":"模型"},{"name":"base_clip","type":"CLIP","link":2841,"label":"CLIP"},{"name":"base_positive","type":"CONDITIONING","link":2854,"label":"正面条件"},{"name":"base_negative","type":"CONDITIONING","link":2855,"label":"负面条件"},{"name":"refiner_model","type":"MODEL","link":2837,"label":"模型(Refiner)"},{"name":"refiner_clip","type":"CLIP","link":2838,"label":"CLIP(Refiner)"},{"name":"refiner_positive","type":"CONDITIONING","link":2839,"label":"正面条件(Refiner)"},{"name":"refiner_negative","type":"CONDITIONING","link":2840,"label":"负面条件(Refiner)"}],"outputs":[{"name":"SDXL_TUPLE","type":"SDXL_TUPLE","links":[2829],"slot_index":0,"shape":3,"label":"SDXL元组"}],"properties":{"Node name for S&R":"Pack SDXL Tuple"},"shape":1},{"id":1101,"type":"Reroute","pos":[-160,-650],"size":[75,26],"flags":{},"order":43,"mode":0,"inputs":[{"name":"","type":"*","link":2834}],"outputs":[{"name":"VAE","type":"VAE","links":[2835,2836],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1104,"type":"ImageToMask","pos":[-3650,500],"size":{"0":315,"1":58},"flags":{},"order":47,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2861,"label":"图像"}],"outputs":[{"name":"MASK","type":"MASK","links":[2862],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":1105,"type":"ImpactDilateMask","pos":[-3660,610],"size":{"0":315,"1":58},"flags":{},"order":54,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":2862,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[2863],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"ImpactDilateMask"},"widgets_values":[5]},{"id":1106,"type":"MaskToImage","pos":[-3630,730],"size":{"0":210,"1":26},"flags":{},"order":58,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":2863,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2866],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":1107,"type":"Reroute","pos":[-2980,640],"size":[75,26],"flags":{},"order":60,"mode":0,"inputs":[{"name":"","type":"*","link":2866}],"outputs":[{"name":"","type":"IMAGE","links":[2867,2868],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1132,"type":"Get resolution [Crystools]","pos":[-470,-990],"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":5,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":null,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[2906],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[2907],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":1149,"type":"Reroute","pos":[-3350,-1020],"size":[75,26],"flags":{},"order":25,"mode":0,"inputs":[{"name":"","type":"*","link":2939}],"outputs":[{"name":"","type":"IMAGE","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1155,"type":"Reroute","pos":[-2980,430],"size":[75,26],"flags":{},"order":39,"mode":0,"inputs":[{"name":"","type":"*","link":2967}],"outputs":[{"name":"","type":"IMAGE","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1212,"type":"ReActorRestoreFace","pos":[2350,-500],"size":{"0":315,"1":130},"flags":{},"order":74,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3085,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3126],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"ReActorRestoreFace"},"widgets_values":["retinaface_resnet50","GPEN-BFR-1024.onnx",1,0.5]},{"id":1219,"type":"InvertMask","pos":[-2350,-580],"size":{"0":210,"1":26},"flags":{},"order":55,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3096,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[3097],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"InvertMask"}},{"id":1223,"type":"ControlNetLoader","pos":[-1290,410],"size":{"0":315,"1":58},"flags":{},"order":6,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[3114,3115],"slot_index":0,"shape":3,"label":"ControlNet"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["controlnet-union-sdxl-promax-1.0.safetensors"]},{"id":1229,"type":"Reroute","pos":[-770,360],"size":[75,26],"flags":{},"order":50,"mode":0,"inputs":[{"name":"","type":"*","link":3105}],"outputs":[{"name":"","type":"CONDITIONING","links":[3120],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1230,"type":"Reroute","pos":[-770,410],"size":[75,26],"flags":{},"order":51,"mode":0,"inputs":[{"name":"","type":"*","link":3106}],"outputs":[{"name":"","type":"CONDITIONING","links":[3121],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1235,"type":"workflow/controlnet","pos":[-950,550],"size":{"0":315,"1":190},"flags":{},"order":64,"mode":0,"inputs":[{"name":"ControlNet","type":"CONTROL_NET","link":3114,"label":"ControlNet"},{"name":"正面条件","type":"CONDITIONING","link":3120,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","link":3121,"label":"负面条件"},{"name":"图像","type":"IMAGE","link":3118,"label":"图像"}],"outputs":[{"name":"正面条件","type":"CONDITIONING","links":[3116],"slot_index":0,"shape":3,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","links":[3117],"slot_index":1,"shape":3,"label":"负面条件"}],"properties":{"Node name for S&R":"workflow/controlnet"},"widgets_values":["canny/lineart/anime_lineart/mlsd",0.2,0,1]},{"id":1236,"type":"workflow/controlnet","pos":[-950,810],"size":{"0":315,"1":190},"flags":{},"order":65,"mode":0,"inputs":[{"name":"ControlNet","type":"CONTROL_NET","link":3115,"label":"ControlNet"},{"name":"正面条件","type":"CONDITIONING","link":3116,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","link":3117,"label":"负面条件"},{"name":"图像","type":"IMAGE","link":3119,"label":"图像"}],"outputs":[{"name":"正面条件","type":"CONDITIONING","links":[3122],"slot_index":0,"shape":3,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","links":[3123],"slot_index":1,"shape":3,"label":"负面条件"}],"properties":{"Node name for S&R":"workflow/controlnet"},"widgets_values":["depth",0.15,0,1]},{"id":1237,"type":"Reroute","pos":[450,380],"size":[75,26],"flags":{},"order":66,"mode":0,"inputs":[{"name":"","type":"*","link":3122}],"outputs":[{"name":"","type":"CONDITIONING","links":[3124],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1238,"type":"Reroute","pos":[450,430],"size":[75,26],"flags":{},"order":67,"mode":0,"inputs":[{"name":"","type":"*","link":3123}],"outputs":[{"name":"","type":"CONDITIONING","links":[3125],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1239,"type":"Save Image To OSS And Display","pos":[2790,-480],"size":{"0":315,"1":82},"flags":{},"order":75,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3126,"label":"images"}],"properties":{"Node name for S&R":"Save Image To OSS And Display"},"widgets_values":["comfyui","JPEG"]},{"id":1240,"type":"Load Image From Url","pos":[-5080,-1240],"size":{"0":400,"1":200},"flags":{},"order":7,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3128],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":[],"slot_index":1,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"Load Image From Url"},"widgets_values":["",true]}],"links":[[429,218,0,228,0,"IMAGE"],[444,37,0,239,0,"STRING"],[579,302,0,307,1,"INT"],[580,303,0,307,2,"INT"],[990,238,0,239,1,"STRING"],[1125,280,0,139,0,"IMAGE"],[1326,555,0,556,0,"*"],[1581,263,0,690,0,"*"],[1617,690,0,250,0,"*"],[1657,302,0,228,1,"INT"],[1658,303,0,228,2,"INT"],[1665,333,0,302,0,"*"],[1666,333,1,303,0,"*"],[1902,301,0,218,0,"IMAGE"],[1983,322,0,301,0,"*"],[1996,228,0,223,0,"IMAGE"],[2021,301,0,844,0,"IMAGE"],[2022,844,0,307,0,"IMAGE"],[2088,288,0,254,0,"*"],[2207,876,0,875,4,"BRMODEL"],[2211,249,0,875,3,"MASK"],[2219,277,0,249,0,"*"],[2299,368,0,932,0,"*"],[2310,693,0,936,0,"*"],[2316,938,0,882,3,"IMAGE"],[2317,362,0,939,0,"*"],[2319,367,0,248,0,"*"],[2334,368,0,304,0,"*"],[2368,948,0,952,0,"*"],[2370,952,0,937,0,"*"],[2371,932,0,953,0,"*"],[2374,949,0,954,0,"*"],[2382,958,0,882,6,"INT"],[2383,959,0,882,7,"INT"],[2430,939,0,882,4,"INT"],[2509,954,0,882,5,"BOOLEAN"],[2524,885,0,322,0,"*"],[2542,302,0,844,1,"INT"],[2543,302,0,218,1,"INT"],[2554,1018,0,885,0,"*"],[2555,1018,0,333,0,"IMAGE"],[2556,1018,1,367,0,"*"],[2557,1018,2,368,0,"*"],[2558,1018,3,947,0,"*"],[2560,1018,5,890,0,"*"],[2563,1018,7,362,0,"*"],[2565,1018,8,949,0,"*"],[2566,1018,9,1013,0,"*"],[2584,937,0,882,1,"IMAGE"],[2585,936,0,882,0,"IMAGE"],[2586,953,0,882,2,"IMAGE"],[2589,885,0,1027,0,"*"],[2641,1027,0,938,0,"*"],[2764,239,0,288,0,"*"],[2817,556,0,1096,3,"STRING"],[2818,250,0,1096,0,"LORA_STACK"],[2820,1096,0,1097,0,"SDXL_TUPLE"],[2829,1100,0,1099,0,"SDXL_TUPLE"],[2834,1096,2,1101,0,"*"],[2835,1101,0,875,1,"VAE"],[2836,1101,0,1099,2,"VAE"],[2837,1097,4,1100,4,"MODEL"],[2838,1097,5,1100,5,"CLIP"],[2839,1097,6,1100,6,"CONDITIONING"],[2840,1097,7,1100,7,"CONDITIONING"],[2841,1097,1,1100,1,"CLIP"],[2842,1099,3,693,0,"*"],[2854,875,1,1100,2,"CONDITIONING"],[2855,875,2,1100,3,"CONDITIONING"],[2860,875,3,1099,1,"LATENT"],[2861,304,0,1104,0,"IMAGE"],[2862,1104,0,1105,0,"MASK"],[2863,1105,0,1106,0,"MASK"],[2865,307,0,309,0,"IMAGE"],[2866,1106,0,1107,0,"*"],[2867,1107,0,309,1,"IMAGE"],[2868,1107,0,223,1,"IMAGE"],[2906,1132,0,958,0,"*"],[2907,1132,1,959,0,"*"],[2939,1018,6,1149,0,"*"],[2967,890,0,1155,0,"*"],[2968,254,0,1096,2,"STRING"],[2993,875,0,1100,0,"MODEL"],[2997,248,0,875,2,"IMAGE"],[3011,37,0,1018,2,"STRING"],[3012,238,0,1018,3,"STRING"],[3013,1097,0,875,0,"MODEL"],[3027,1018,4,948,0,"*"],[3029,948,0,280,0,"*"],[3085,882,0,1212,0,"IMAGE"],[3096,139,0,1219,0,"MASK"],[3097,1219,0,277,0,"*"],[3105,1097,2,1229,0,"*"],[3106,1097,3,1230,0,"*"],[3114,1223,0,1235,0,"CONTROL_NET"],[3115,1223,0,1236,0,"CONTROL_NET"],[3116,1235,0,1236,1,"CONDITIONING"],[3117,1235,1,1236,2,"CONDITIONING"],[3118,309,0,1235,3,"IMAGE"],[3119,223,0,1236,3,"IMAGE"],[3120,1229,0,1235,1,"CONDITIONING"],[3121,1230,0,1235,2,"CONDITIONING"],[3122,1236,0,1237,0,"*"],[3123,1236,1,1238,0,"*"],[3124,1237,0,875,5,"CONDITIONING"],[3125,1238,0,875,6,"CONDITIONING"],[3126,1212,0,1239,0,"IMAGE"],[3128,1240,0,219,0,"*"],[3129,219,0,1018,0,"IMAGE"]],"groups":[{"title":"服装+背景一次生成","bounding":[-1370,-700,2613,898],"color":"#3f789e","font_size":24,"locked":false},{"title":"重回区域遮罩","bounding":[-2920,-680,1311,854],"color":"#3f789e","font_size":24,"locked":false},{"title":"ControlNet","bounding":[-2950,290,3430,1240],"color":"#3f789e","font_size":24,"locked":false},{"title":"图像预处理","bounding":[-4420,-1400,1110,550],"color":"#3f789e","font_size":24,"locked":false},{"title":"用户输入","bounding":[-4434,-2390,1126,877],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{"ds":{"scale":0.41772481694156816,"offset":[5544.528992670189,2478.8670545874106]},"workspace_info":{"id":"j4clJucPcbhKRjeFHeWYw","saveLock":false,"cloudID":null,"coverMediaPath":null},"groupNodes":{"controlnet":{"nodes":[{"type":"SetUnionControlNetType","pos":[-950,550],"size":{"0":315,"1":58},"flags":{},"order":7,"mode":0,"inputs":[{"name":"control_net","type":"CONTROL_NET","link":null,"label":"ControlNet"}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[],"shape":3,"label":"ControlNet","slot_index":0}],"properties":{"Node name for S&R":"SetUnionControlNetType"},"widgets_values":["canny/lineart/anime_lineart/mlsd"],"index":0},{"type":"ControlNetApplyAdvanced","pos":[-950,660],"size":{"0":315,"1":166},"flags":{},"order":13,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":null,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":null,"label":"负面条件"},{"name":"control_net","type":"CONTROL_NET","link":null,"label":"ControlNet"},{"name":"image","type":"IMAGE","link":null,"label":"图像"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[],"shape":3,"label":"正面条件","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[],"shape":3,"label":"负面条件","slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.2,0,1],"index":1}],"links":[[0,0,1,2,1233,"CONTROL_NET"]],"external":[]}}},"version":0.4}