{"last_node_id":1236,"last_link_id":3128,"nodes":[{"id":139,"type":"ImageToMask","pos":{"0":-2850,"1":-590},"size":{"0":315,"1":58},"flags":{},"order":65,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1125,"label":"图像"}],"outputs":[{"name":"MASK","type":"MASK","links":[3062],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":219,"type":"Reroute","pos":{"0":-4440,"1":-1270},"size":[75,26],"flags":{},"order":11,"mode":0,"inputs":[{"name":"","type":"*","link":2889,"slot_index":0,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[3073,3074],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":239,"type":"JoinStrings","pos":{"0":-3817.433349609375,"1":-1821.3763427734375},"size":{"0":315,"1":106},"flags":{},"order":10,"mode":0,"inputs":[{"name":"string1","type":"STRING","link":444,"widget":{"name":"string1"},"label":"字符串1"},{"name":"string2","type":"STRING","link":990,"widget":{"name":"string2"},"label":"字符串2"}],"outputs":[{"name":"STRING","type":"STRING","links":[2764],"slot_index":0,"shape":3,"label":"字符串"}],"properties":{"Node name for S&R":"JoinStrings"},"widgets_values":["","",","]},{"id":248,"type":"Reroute","pos":{"0":-1400,"1":-640},"size":[82,26],"flags":{},"order":41,"mode":0,"inputs":[{"name":"","type":"*","link":2319,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1835,1848,2876,2997],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":249,"type":"Reroute","pos":{"0":-1400,"1":-320},"size":[75,26],"flags":{},"order":91,"mode":0,"inputs":[{"name":"","type":"*","link":2219,"label":""}],"outputs":[{"name":"MASK","type":"MASK","links":[2211],"slot_index":0,"label":"MASK"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":250,"type":"Reroute","pos":{"0":-1390,"1":-560},"size":[75,26],"flags":{},"order":13,"mode":0,"inputs":[{"name":"","type":"*","link":1617,"slot_index":0,"label":""}],"outputs":[{"name":"","type":"LORA_STACK","links":[2818],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":254,"type":"Reroute","pos":{"0":-1410,"1":-490},"size":[90.4,26],"flags":{},"order":17,"mode":0,"inputs":[{"name":"","type":"*","link":2088,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[2968],"slot_index":0,"label":"STRING"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":277,"type":"Reroute","pos":{"0":-1650,"1":-580},"size":[75,26],"flags":{},"order":86,"mode":0,"inputs":[{"name":"","type":"*","link":1796,"label":""}],"outputs":[{"name":"MASK","type":"MASK","links":[2219],"slot_index":0,"label":"MASK"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":280,"type":"Reroute","pos":{"0":-2970,"1":-630},"size":[82,26],"flags":{},"order":47,"mode":0,"inputs":[{"name":"","type":"*","link":3029,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1125,3061],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":288,"type":"Reroute","pos":{"0":-3357.433349609375,"1":-1561.3763427734375},"size":[90.4,26],"flags":{},"order":14,"mode":0,"inputs":[{"name":"","type":"*","link":2764,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[2088],"slot_index":0,"label":"STRING"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":301,"type":"Reroute","pos":{"0":-2990,"1":510},"size":[82,26],"flags":{},"order":57,"mode":0,"inputs":[{"name":"","type":"*","link":1983,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1902,2021],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":302,"type":"Reroute","pos":{"0":-2990,"1":700},"size":[75,26],"flags":{},"order":37,"mode":0,"inputs":[{"name":"","type":"*","link":1665,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[579,1657,2542,2543],"slot_index":0,"label":"INT"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":303,"type":"Reroute","pos":{"0":-2990,"1":760},"size":[75,26],"flags":{},"order":38,"mode":0,"inputs":[{"name":"","type":"*","link":1666,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[580,1658],"slot_index":0,"label":"INT"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":304,"type":"Reroute","pos":{"0":-2990,"1":590},"size":[82,26],"flags":{},"order":44,"mode":0,"inputs":[{"name":"","type":"*","link":2334,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2861,2870],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":322,"type":"Reroute","pos":{"0":-3340,"1":-840},"size":[75,26],"flags":{},"order":35,"mode":0,"inputs":[{"name":"","type":"*","link":2524,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[1983],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":333,"type":"Get resolution [Crystools]","pos":{"0":-4310,"1":-1110},"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":21,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2555,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[1665,1775],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[1666,1776],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":362,"type":"Reroute","pos":{"0":-3330,"1":-910},"size":[75,26],"flags":{},"order":29,"mode":0,"inputs":[{"name":"","type":"*","link":2563,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[2317],"slot_index":0,"label":"INT"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":367,"type":"Reroute","pos":{"0":-3330,"1":-1220},"size":[82,26],"flags":{},"order":22,"mode":0,"inputs":[{"name":"","type":"*","link":2556,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2173,2319],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":391,"type":"Display Any (rgthree)","pos":{"0":-3550,"1":-1440},"size":{"0":210,"1":76.00001525878906},"flags":{},"order":28,"mode":0,"inputs":[{"name":"source","type":"*","link":2562,"label":"输入","dir":3}],"outputs":[],"properties":{"Node name for S&R":"Display Any (rgthree)"},"widgets_values":["9"]},{"id":555,"type":"String Literal","pos":{"0":-4380,"1":-1760},"size":{"0":400,"1":200},"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"STRING","type":"STRING","links":[1326],"slot_index":0,"shape":3,"label":"STRING"}],"properties":{"Node name for S&R":"String Literal"},"widgets_values":["\"embedding:negativeXL_D.safetensors\", \"NSFW\", \"Head accessories\",\"(worst quality, low quality, illustration, 3d, 2d, cartoon, painting, cartoons, sketch)+, open mouth, (long neck)+, (watermark)+, (text)+, extra fingers, inverted nipple, busty, large breasts, ugly, disgusting,(beard)++\"",true]},{"id":556,"type":"Reroute","pos":{"0":-1410,"1":-430},"size":[90.4,26],"flags":{},"order":8,"mode":0,"inputs":[{"name":"","type":"*","link":1326,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[2817],"slot_index":0,"label":"STRING"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":676,"type":"MaskToImage","pos":{"0":-2420,"1":-430},"size":{"0":200,"1":30},"flags":{},"order":72,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3062,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1905],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":683,"type":"Image Comparer (rgthree)","pos":{"0":150,"1":-2160},"size":{"0":750,"1":1040},"flags":{},"order":99,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":1812,"label":"图像_A","dir":3},{"name":"image_b","type":"IMAGE","link":2894,"label":"图像_B","dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_pvaat_00001_.png&type=temp&subfolder=&rand=0.8880081519201388"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_pvaat_00002_.png&type=temp&subfolder=&rand=0.6313083544427851"}]]},{"id":686,"type":"PreviewImage","pos":{"0":-1740,"1":1390},"size":{"0":210,"1":250},"flags":{},"order":88,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1808,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":690,"type":"Reroute","pos":{"0":-3367.433349609375,"1":-1631.3763427734375},"size":[124,26],"flags":{},"order":9,"mode":0,"inputs":[{"name":"","type":"*","link":1581,"label":""}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[1617],"slot_index":0,"label":"LORA_STACK"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":693,"type":"Reroute","pos":{"0":1170,"1":-630},"size":[75,26],"flags":{},"order":98,"mode":0,"inputs":[{"name":"","type":"*","link":2842,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[1812,2282,2310,2875],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":767,"type":"SolidMask","pos":{"0":-4330,"1":-940},"size":{"0":320,"1":110},"flags":{},"order":39,"mode":0,"inputs":[{"name":"width","type":"INT","link":1775,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":1776,"widget":{"name":"height"},"label":"高度"}],"outputs":[{"name":"MASK","type":"MASK","links":[1777],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"SolidMask"},"widgets_values":[1,512,512]},{"id":768,"type":"MaskToImage","pos":{"0":-3920,"1":-910},"size":{"0":210,"1":26},"flags":{},"order":59,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1777,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2168],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":772,"type":"ImageToMask","pos":{"0":-2020,"1":-580},"size":{"0":315,"1":58},"flags":{},"order":81,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1906,"label":"图像"}],"outputs":[{"name":"MASK","type":"MASK","links":[1796],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["blue"]},{"id":778,"type":"Reroute","pos":{"0":-1000,"1":340},"size":[75,26],"flags":{},"order":1,"mode":0,"inputs":[{"name":"","type":"*","link":null,"label":""}],"outputs":[{"name":"","type":"*","links":[2819],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":786,"type":"PreviewImage","pos":{"0":-2460,"1":-250},"size":{"0":210,"1":250},"flags":{},"order":60,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1835,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":788,"type":"ImageBlend","pos":{"0":-2010,"1":-450},"size":{"0":315,"1":102},"flags":{},"order":82,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":1848,"label":"图像1"},{"name":"image2","type":"IMAGE","link":1907,"label":"图像2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1840],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"ImageBlend"},"widgets_values":[1,"multiply"]},{"id":789,"type":"PreviewImage","pos":{"0":-1890,"1":-230},"size":{"0":210,"1":250},"flags":{},"order":87,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1840,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":807,"type":"ImageBlend","pos":{"0":-2430,"1":-600},"size":{"0":315,"1":102},"flags":{},"order":78,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":2169,"label":"图像1"},{"name":"image2","type":"IMAGE","link":1905,"label":"图像2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1906,1907,1908],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"ImageBlend"},"widgets_values":[1,"difference"]},{"id":838,"type":"PreviewImage","pos":{"0":-1750,"1":1710},"size":{"0":210,"1":250},"flags":{},"order":90,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2018,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":844,"type":"AIO_Preprocessor","pos":{"0":-2840,"1":470},"size":{"0":320,"1":80},"flags":{},"order":69,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2021,"label":"图像"},{"name":"resolution","type":"INT","link":2542,"widget":{"name":"resolution"},"label":"分辨率"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2022,2481],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["AnyLineArtPreprocessor_aux",768]},{"id":882,"type":"Snapme ImgProcess Step3","pos":{"0":1980,"1":-510},"size":{"0":320,"1":260},"flags":{},"order":102,"mode":0,"inputs":[{"name":"image_res_1","type":"IMAGE","link":2585,"label":"image_res_1"},{"name":"face_mask","type":"IMAGE","link":2584,"label":"face_mask"},{"name":"control_mask_face","type":"IMAGE","link":2586,"label":"control_mask_face"},{"name":"face_image_pad","type":"IMAGE","link":2316,"label":"face_image_pad"},{"name":"dilate_iter","type":"INT","link":2430,"slot_index":4,"widget":{"name":"dilate_iter"},"label":"dilate_iter"},{"name":"use_hair","type":"BOOLEAN","link":2509,"slot_index":5,"widget":{"name":"use_hair"},"label":"use_hair"},{"name":"restore_width","type":"INT","link":2382,"widget":{"name":"restore_width"},"label":"restore_width"},{"name":"restore_height","type":"INT","link":2383,"widget":{"name":"restore_height"},"label":"restore_height"}],"outputs":[{"name":"脸部回帖图","type":"IMAGE","links":[2281,2484,2908,3085,3087],"slot_index":0,"shape":3,"label":"脸部回帖图"}],"properties":{"Node name for S&R":"Snapme ImgProcess Step3"},"widgets_values":[0,0,false,0,0,true,false]},{"id":884,"type":"Reroute","pos":{"0":-2970,"1":-540},"size":[75,26],"flags":{},"order":70,"mode":0,"inputs":[{"name":"","type":"*","link":2168,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[2169],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":885,"type":"Reroute","pos":{"0":-3340,"1":-1270},"size":[82,26],"flags":{},"order":20,"mode":0,"inputs":[{"name":"","type":"*","link":2554,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2172,2524,2589],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":886,"type":"PreviewImage","pos":{"0":-3270,"1":-1980},"size":{"0":210,"1":250},"flags":{},"order":34,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2172,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":887,"type":"PreviewImage","pos":{"0":-3020,"1":-1980},"size":{"0":210,"1":250},"flags":{},"order":40,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2173,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":890,"type":"Reroute","pos":{"0":-3330,"1":-1020},"size":[82,26],"flags":{},"order":26,"mode":0,"inputs":[{"name":"","type":"*","link":2560,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2195,2967],"slot_index":0,"label":""}],"properties":{"showOutputText":true,"horizontal":false}},{"id":896,"type":"PreviewImage","pos":{"0":-2060,"1":-1970},"size":{"0":210,"1":250},"flags":{},"order":49,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2195,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":931,"type":"PreviewImage","pos":{"0":-2010,"1":2010},"size":{"0":210,"1":250},"flags":{},"order":54,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2545,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":932,"type":"Reroute","pos":{"0":1170,"1":-870},"size":[75,26],"flags":{},"order":43,"mode":0,"inputs":[{"name":"","type":"*","link":2299,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[2371],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":936,"type":"Reroute","pos":{"0":1630,"1":-570},"size":[75,26],"flags":{},"order":100,"mode":0,"inputs":[{"name":"","type":"*","link":2310,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[2585],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":937,"type":"Reroute","pos":{"0":1630,"1":-520},"size":[75,26],"flags":{},"order":64,"mode":0,"inputs":[{"name":"","type":"*","link":2370,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[2584],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":938,"type":"Reroute","pos":{"0":1630,"1":-430},"size":[75,26],"flags":{},"order":58,"mode":0,"inputs":[{"name":"","type":"*","link":2641,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[2316],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":939,"type":"Reroute","pos":{"0":1630,"1":-390},"size":[75,26],"flags":{},"order":52,"mode":0,"inputs":[{"name":"","type":"*","link":2317,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[2430],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":947,"type":"Reroute","pos":{"0":-3330,"1":-1120},"size":[82,26],"flags":{},"order":24,"mode":0,"inputs":[{"name":"","type":"*","link":2558}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2365],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":949,"type":"Reroute","pos":{"0":-3340,"1":-870},"size":[98.8,26],"flags":{},"order":31,"mode":0,"inputs":[{"name":"","type":"*","link":2565,"widget":{"name":"value"}}],"outputs":[{"name":"BOOLEAN","type":"BOOLEAN","links":[2374],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":950,"type":"PreviewImage","pos":{"0":-2550,"1":-1980},"size":{"0":210,"1":250},"flags":{},"order":45,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2365,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":952,"type":"Reroute","pos":{"0":1170,"1":-800},"size":[75,26],"flags":{},"order":46,"mode":0,"inputs":[{"name":"","type":"*","link":2368}],"outputs":[{"name":"","type":"IMAGE","links":[2370],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":953,"type":"Reroute","pos":{"0":1630,"1":-480},"size":[75,26],"flags":{},"order":62,"mode":0,"inputs":[{"name":"","type":"*","link":2371,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[2586],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":954,"type":"Reroute","pos":{"0":1630,"1":-330},"size":[75,26],"flags":{},"order":53,"mode":0,"inputs":[{"name":"","type":"*","link":2374,"slot_index":0,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"BOOLEAN","links":[2509],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":958,"type":"Reroute","pos":{"0":1170,"1":-1000},"size":[75,26],"flags":{},"order":18,"mode":0,"inputs":[{"name":"","type":"*","link":2906,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[2382],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":988,"type":"PreviewImage","pos":{"0":-2030,"1":1390},"size":{"0":220,"1":250},"flags":{},"order":76,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2481,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":989,"type":"PreviewImage","pos":{"0":-2010,"1":1710},"size":{"0":210,"1":250},"flags":{},"order":74,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2482,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":1009,"type":"Display Any (rgthree)","pos":{"0":-3300,"1":-1440},"size":{"0":210,"1":76},"flags":{},"order":30,"mode":0,"inputs":[{"name":"source","type":"*","link":2564,"label":"输入","dir":3}],"outputs":[],"properties":{"Node name for S&R":"Display Any (rgthree)"},"widgets_values":["True"]},{"id":1027,"type":"Reroute","pos":{"0":1170,"1":-750},"size":[75,26],"flags":{},"order":36,"mode":0,"inputs":[{"name":"","type":"*","link":2589}],"outputs":[{"name":"","type":"IMAGE","links":[2641],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1065,"type":"PreviewImage","pos":{"0":-2800,"1":-1570},"size":{"0":210,"1":250},"flags":{},"order":51,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2943,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":1101,"type":"Reroute","pos":{"0":-160,"1":-650},"size":[75,26],"flags":{},"order":56,"mode":0,"inputs":[{"name":"","type":"*","link":2834}],"outputs":[{"name":"VAE","type":"VAE","links":[2835,2836],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1104,"type":"ImageToMask","pos":{"0":-3680,"1":490},"size":{"0":315,"1":58},"flags":{},"order":63,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2861,"label":"图像"}],"outputs":[{"name":"MASK","type":"MASK","links":[2862],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":1105,"type":"ImpactDilateMask","pos":{"0":-3660,"1":610},"size":{"0":315,"1":58},"flags":{},"order":71,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":2862,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[2863],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"ImpactDilateMask"},"widgets_values":[5]},{"id":1106,"type":"MaskToImage","pos":{"0":-3630,"1":730},"size":{"0":210,"1":26},"flags":{},"order":77,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":2863,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2866,2869],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":1107,"type":"Reroute","pos":{"0":-2980,"1":640},"size":[75,26],"flags":{},"order":79,"mode":0,"inputs":[{"name":"","type":"*","link":2866}],"outputs":[{"name":"","type":"IMAGE","links":[2867,2868],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1108,"type":"Image Comparer (rgthree)","pos":{"0":-3630,"1":870},"size":{"0":240,"1":200},"flags":{},"order":80,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":2869,"label":"图像_A","dir":3},{"name":"image_b","type":"IMAGE","link":2870,"label":"图像_B","dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_amhop_00007_.png&type=temp&subfolder=&rand=0.38020753000549323"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_amhop_00008_.png&type=temp&subfolder=&rand=0.1267245025370789"}]]},{"id":1110,"type":"Get resolution [Crystools]","pos":{"0":710,"1":-830},"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":101,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2875,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":1111,"type":"Get resolution [Crystools]","pos":{"0":-470,"1":-820},"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":61,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2876,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":1129,"type":"Reroute","pos":{"0":70,"1":-2290},"size":[75,26],"flags":{},"order":12,"mode":0,"inputs":[{"name":"","type":"*","link":2904}],"outputs":[{"name":"","type":"IMAGE","links":[2894,2895],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1132,"type":"Get resolution [Crystools]","pos":{"0":-480,"1":-990},"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3073,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[2906],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[2907],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":1133,"type":"Get resolution [Crystools]","pos":{"0":2520,"1":-700},"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":105,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2908,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":1149,"type":"Reroute","pos":{"0":-3330,"1":-960},"size":[75,26],"flags":{},"order":27,"mode":0,"inputs":[{"name":"","type":"*","link":2939}],"outputs":[{"name":"","type":"IMAGE","links":[2943],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1155,"type":"Reroute","pos":{"0":-2980,"1":430},"size":[75,26],"flags":{},"order":50,"mode":0,"inputs":[{"name":"","type":"*","link":2967}],"outputs":[{"name":"","type":"IMAGE","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1213,"type":"Image Comparer (rgthree)","pos":{"0":3120,"1":-2180},"size":{"0":920,"1":1090},"flags":{},"order":107,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":3088,"label":"图像_A","dir":3},{"name":"image_b","type":"IMAGE","link":3087,"label":"图像_B","dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_jskgo_00001_.png&type=temp&subfolder=&rand=0.878998918075645"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_jskgo_00002_.png&type=temp&subfolder=&rand=0.4291319383193084"}]]},{"id":263,"type":"CR LoRA Stack","pos":{"0":-3840,"1":-2250},"size":{"0":394.4184265136719,"1":342},"flags":{},"order":2,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"LoRA堆"}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[1581],"slot_index":0,"shape":3,"label":"LORA_STACK"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR LoRA Stack"},"widgets_values":["On","snapmecloth/kohya/Dark_striped_suit.safetensors",1,1,"On","sdxl/Professional_Portrait.safetensors",1,1,"Off","None",0.8,1]},{"id":238,"type":"String Literal","pos":{"0":-4370,"1":-2040},"size":{"0":400,"1":200},"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"STRING","type":"STRING","links":[990,3012],"slot_index":0,"shape":3,"label":"STRING"}],"properties":{"Node name for S&R":"String Literal"},"widgets_values":["\"(The subject is in a luxurious 1970s living room with a classic brown color)++, (The ceiling is a warm light)+++, (The ambient light shines on the luxurious and classic private living room)+++, (The walls and doors are all in classic carvings)++, (A classic standing lamp is placed next to the wall)+++, (Dark blue single-person patterned sofa)++, (There is gu'dia next to the sofa)+++, (The wall has a concave and convex layered feel)++, (Plain wallpaper)++, Single photo, Focus on the person's face, (Dark-toned background) +++, (Dark film filter)+++, (Film filter texture)+++, (Movie lighting)+++, (Depth of field)+++, (Sense of layers)+++, (Brown boss chair behind the subject)++, (Classical carved coffee table next to it)++, (Yellow patterned curtains)++, (Sense of atmosphere)++, Warm colors, soft colors, soft light, distant objects appear more hazy, less saturated, balanced exposure of highlights and shadows, (Low-angle shooting emphasizes the height of skyscrapers)++, 85mm focal length, f/1.8 aperture, 1/500s shutter speed, ISO 100, (Facial features and clothing details are clear)++, (Relaxed and comfortable atmosphere)++,,professional portrait, realistic photography, perfect details, highest quality, masterpiece,35mm photograph,4k,professional portrait, realistic photography, perfect details, highest quality, masterpiece,35mm photograph,4k\"",true]},{"id":37,"type":"String Literal","pos":{"0":-4380,"1":-2260},"size":{"0":391.5850524902344,"1":152.6741180419922},"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"STRING","type":"STRING","links":[444,3011],"slot_index":0,"shape":3,"label":"STRING"}],"properties":{"Node name for S&R":"String Literal"},"widgets_values":["\"Dark_striped,photo of a male,(solo)+++,Dark suit, pinstripe suit, blue shirt, dark purple textured tie, formal, suit, solo, pinstripe pattern, buttons, pants, simple background\"",true]},{"id":959,"type":"Reroute","pos":{"0":1170,"1":-940},"size":[75,26],"flags":{},"order":19,"mode":0,"inputs":[{"name":"","type":"*","link":2907,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[2383],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1230,"type":"Reroute","pos":{"0":-1210,"1":400},"size":[75,26],"flags":{},"order":66,"mode":0,"inputs":[{"name":"","type":"*","link":3106}],"outputs":[{"name":"","type":"CONDITIONING","links":[3108],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1231,"type":"Reroute","pos":{"0":-1210,"1":480},"size":[75,26],"flags":{},"order":67,"mode":0,"inputs":[{"name":"","type":"*","link":3107}],"outputs":[{"name":"","type":"CONDITIONING","links":[3109],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":309,"type":"ImageCompositedMaskedWeight","pos":{"0":-2000,"1":490},"size":{"0":315,"1":78},"flags":{},"order":84,"mode":0,"inputs":[{"name":"source","type":"IMAGE","link":2865,"label":"source"},{"name":"mask","type":"IMAGE","link":2867,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1808,3110],"slot_index":0,"shape":3,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageCompositedMaskedWeight"},"widgets_values":[0.1]},{"id":307,"type":"ImageResize+","pos":{"0":-2440,"1":460},"size":{"0":315,"1":218},"flags":{"collapsed":false},"order":75,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2022,"label":"图像"},{"name":"width","type":"INT","link":579,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":580,"widget":{"name":"height"},"label":"高度"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2865],"slot_index":0,"shape":3,"label":"图像"},{"name":"width","type":"INT","links":null,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":null,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[768,1024,"nearest","keep proportion","always",0]},{"id":228,"type":"ImageResize+","pos":{"0":-2440,"1":740},"size":{"0":315,"1":218},"flags":{"collapsed":false},"order":73,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":429,"label":"图像"},{"name":"width","type":"INT","link":1657,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":1658,"widget":{"name":"height"},"label":"高度"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1996],"slot_index":0,"shape":3,"label":"图像"},{"name":"width","type":"INT","links":null,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":null,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[768,1024,"nearest","keep proportion","always",0]},{"id":1228,"type":"Reroute","pos":{"0":270,"1":380},"size":[140.8,26],"flags":{},"order":93,"mode":0,"inputs":[{"name":"","type":"*","link":3127}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3112],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1229,"type":"Reroute","pos":{"0":270,"1":430},"size":[140.8,26],"flags":{},"order":94,"mode":0,"inputs":[{"name":"","type":"*","link":3105}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3113],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":875,"type":"BrushNet","pos":{"0":-250,"1":-270},"size":{"0":315,"1":226},"flags":{},"order":95,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":3013,"label":"模型"},{"name":"vae","type":"VAE","link":2835,"label":"VAE"},{"name":"image","type":"IMAGE","link":2997,"label":"图像"},{"name":"mask","type":"MASK","link":2211,"label":"遮罩"},{"name":"brushnet","type":"BRMODEL","link":2207,"slot_index":4,"label":"BrushNet"},{"name":"positive","type":"CONDITIONING","link":3112,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":3113,"label":"负面条件"}],"outputs":[{"name":"model","type":"MODEL","links":[2993],"slot_index":0,"shape":3,"label":"模型"},{"name":"positive","type":"CONDITIONING","links":[2854],"slot_index":1,"shape":3,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","links":[2855],"slot_index":2,"shape":3,"label":"负面条件"},{"name":"latent","type":"LATENT","links":[2860],"slot_index":3,"shape":3,"label":"Latent"}],"properties":{"Node name for S&R":"BrushNet"},"widgets_values":[0.6000000000000001,0,1000]},{"id":876,"type":"BrushNetLoader","pos":{"0":-250,"1":10},"size":{"0":315,"1":82},"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"brushnet","type":"BRMODEL","links":[2207],"shape":3,"label":"BrushNet"}],"properties":{"Node name for S&R":"BrushNetLoader"},"widgets_values":["brushnet_xl/segmentation_mask_brushnet_ckpt_v1.safetensors","float16"]},{"id":1097,"type":"Unpack SDXL Tuple","pos":{"0":-720,"1":-520},"size":{"0":405.5999755859375,"1":166},"flags":{},"order":55,"mode":0,"inputs":[{"name":"sdxl_tuple","type":"SDXL_TUPLE","link":2820,"label":"SDXL元组"}],"outputs":[{"name":"BASE_MODEL","type":"MODEL","links":[3013],"slot_index":0,"shape":3,"label":"模型"},{"name":"BASE_CLIP","type":"CLIP","links":[2841],"slot_index":1,"shape":3,"label":"CLIP"},{"name":"BASE_CONDITIONING+","type":"CONDITIONING","links":[3106],"slot_index":2,"shape":3,"label":"正面条件"},{"name":"BASE_CONDITIONING-","type":"CONDITIONING","links":[3107],"slot_index":3,"shape":3,"label":"负面条件"},{"name":"REFINER_MODEL","type":"MODEL","links":[2837],"slot_index":4,"shape":3,"label":"模型(Refiner)"},{"name":"REFINER_CLIP","type":"CLIP","links":[2838],"slot_index":5,"shape":3,"label":"CLIP(Refiner)"},{"name":"REFINER_CONDITIONING+","type":"CONDITIONING","links":[2839],"slot_index":6,"shape":3,"label":"正面条件(Refiner)"},{"name":"REFINER_CONDITIONING-","type":"CONDITIONING","links":[2840],"slot_index":7,"shape":3,"label":"负面条件(Refiner)"}],"properties":{"Node name for S&R":"Unpack SDXL Tuple"},"shape":1},{"id":1100,"type":"Pack SDXL Tuple","pos":{"0":150,"1":-530},"size":{"0":342.5999755859375,"1":166},"flags":{},"order":96,"mode":0,"inputs":[{"name":"base_model","type":"MODEL","link":2993,"label":"模型"},{"name":"base_clip","type":"CLIP","link":2841,"label":"CLIP"},{"name":"base_positive","type":"CONDITIONING","link":2854,"label":"正面条件"},{"name":"base_negative","type":"CONDITIONING","link":2855,"label":"负面条件"},{"name":"refiner_model","type":"MODEL","link":2837,"label":"模型(Refiner)"},{"name":"refiner_clip","type":"CLIP","link":2838,"label":"CLIP(Refiner)"},{"name":"refiner_positive","type":"CONDITIONING","link":2839,"label":"正面条件(Refiner)"},{"name":"refiner_negative","type":"CONDITIONING","link":2840,"label":"负面条件(Refiner)"}],"outputs":[{"name":"SDXL_TUPLE","type":"SDXL_TUPLE","links":[2829],"slot_index":0,"shape":3,"label":"SDXL元组"}],"properties":{"Node name for S&R":"Pack SDXL Tuple"},"shape":1},{"id":1212,"type":"ReActorRestoreFace","pos":{"0":2460,"1":-500},"size":{"0":315,"1":130},"flags":{},"order":106,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3085,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3088],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"ReActorRestoreFace"},"widgets_values":["retinaface_resnet50","GPEN-BFR-512.onnx",1,0.5]},{"id":888,"type":"PreviewImage","pos":{"0":-2780,"1":-1970},"size":{"0":210,"1":250},"flags":{},"order":42,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2174,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":368,"type":"Reroute","pos":{"0":-3330,"1":-1170},"size":[82,26],"flags":{},"order":23,"mode":0,"inputs":[{"name":"","type":"*","link":2557,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2174,2299,2334],"slot_index":0,"label":""}],"properties":{"showOutputText":true,"horizontal":false}},{"id":796,"type":"Image Comparer (rgthree)","pos":{"0":-2190,"1":-250},"size":{"0":240,"1":250},"flags":{},"order":83,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":1908,"label":"图像_A","dir":3},{"name":"image_b","type":"IMAGE","link":3061,"label":"图像_B","dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_pjyuu_00007_.png&type=temp&subfolder=&rand=0.5478398875425023"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_pjyuu_00008_.png&type=temp&subfolder=&rand=0.062236942992599964"}]]},{"id":948,"type":"Reroute","pos":{"0":-3330,"1":-1070},"size":[82,26],"flags":{},"order":25,"mode":0,"inputs":[{"name":"","type":"*","link":3027}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2368,3029,3121],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":923,"type":"Image Comparer (rgthree)","pos":{"0":1110,"1":-2180},"size":{"0":870,"1":1090},"flags":{},"order":103,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":2281,"label":"图像_A","dir":3},{"name":"image_b","type":"IMAGE","link":2282,"label":"图像_B","dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_qprva_00001_.png&type=temp&subfolder=&rand=0.8420035342065142"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_qprva_00002_.png&type=temp&subfolder=&rand=0.2158505028658495"}]]},{"id":951,"type":"PreviewImage","pos":{"0":-2300,"1":-1970},"size":{"0":210,"1":250},"flags":{},"order":48,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3121,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":1018,"type":"AliSegBodyHeadFace","pos":{"0":-3890,"1":-1270},"size":{"0":315,"1":286},"flags":{},"order":16,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3074,"label":"images"},{"name":"bodys","type":"IMAGE","link":null,"label":"bodys"},{"name":"prompt_cloth","type":"STRING","link":3011,"widget":{"name":"prompt_cloth"},"label":"prompt_cloth"},{"name":"prompt_background","type":"STRING","link":3012,"widget":{"name":"prompt_background"},"label":"prompt_background"},{"name":"faces","type":"IMAGE","link":null,"label":"faces"}],"outputs":[{"name":"原图","type":"IMAGE","links":[2554,2555],"shape":3,"label":"原图"},{"name":"head_gray","type":"IMAGE","links":[2556],"shape":3,"label":"head_gray"},{"name":"head_mask","type":"IMAGE","links":[2557],"slot_index":2,"shape":3,"label":"head_mask"},{"name":"hair_mask","type":"IMAGE","links":[2558],"slot_index":3,"shape":3,"label":"hair_mask"},{"name":"face_mask","type":"IMAGE","links":[3027],"slot_index":4,"shape":3,"label":"face_mask"},{"name":"人体mask","type":"IMAGE","links":[2560],"shape":3,"label":"人体mask"},{"name":"cloth_mask","type":"IMAGE","links":[2939],"slot_index":6,"shape":3,"label":"cloth_mask"},{"name":"动态膨胀系数","type":"INT","links":[2562,2563],"shape":3,"label":"动态膨胀系数"},{"name":"头发是否过肩膀","type":"BOOLEAN","links":[2564,2565],"shape":3,"label":"头发是否过肩膀"},{"name":"openpose","type":"IMAGE","links":[2566],"shape":3,"label":"openpose"}],"properties":{"Node name for S&R":"AliSegBodyHeadFace"},"widgets_values":["","",false,5]},{"id":680,"type":"LoadImage","pos":{"0":-940,"1":-2250},"size":{"0":840,"1":1110},"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2889,2904],"slot_index":0,"shape":3,"label":"图像"},{"name":"MASK","type":"MASK","links":[],"slot_index":1,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["29eb8d9a-e0fb-42e1-be92-00c908433849.png","image"]},{"id":218,"type":"AIO_Preprocessor","pos":{"0":-2850,"1":760},"size":{"0":320,"1":80},"flags":{},"order":68,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1902,"label":"图像"},{"name":"resolution","type":"INT","link":2543,"widget":{"name":"resolution"},"label":"分辨率"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[429,2482],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["DepthAnythingV2Preprocessor",768]},{"id":990,"type":"Image Comparer (rgthree)","pos":{"0":2100,"1":-2180},"size":{"0":920,"1":1090},"flags":{},"order":104,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":2484,"label":"图像_A","dir":3},{"name":"image_b","type":"IMAGE","link":2895,"label":"图像_B","dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_yxodx_00001_.png&type=temp&subfolder=&rand=0.8986462386122851"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_yxodx_00002_.png&type=temp&subfolder=&rand=0.8268053545138518"}]]},{"id":1220,"type":"ControlNetLoader","pos":{"0":-1000,"1":540},"size":{"0":315,"1":58},"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[3098,3114],"slot_index":0,"shape":3,"label":"ControlNet"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["controlnet-union-sdxl-promax-1.0.safetensors"]},{"id":1013,"type":"Reroute","pos":{"0":-2990,"1":840},"size":[75,26],"flags":{},"order":32,"mode":0,"inputs":[{"name":"","type":"*","link":2566}],"outputs":[{"name":"","type":"IMAGE","links":[2545],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1226,"type":"workflow/controlnetunion","pos":{"0":-1000,"1":680},"size":{"0":315,"1":190},"flags":{},"order":89,"mode":0,"inputs":[{"name":"ControlNet","type":"CONTROL_NET","link":3098,"label":"ControlNet"},{"name":"正面条件","type":"CONDITIONING","link":3108,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","link":3109,"label":"负面条件"},{"name":"图像","type":"IMAGE","link":3110,"label":"图像"}],"outputs":[{"name":"正面条件","type":"CONDITIONING","links":[3102],"slot_index":0,"shape":3,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","links":[3103],"slot_index":1,"shape":3,"label":"负面条件"}],"properties":{"Node name for S&R":"workflow/controlnetunion"},"widgets_values":["canny/lineart/anime_lineart/mlsd",0.2,0,1]},{"id":223,"type":"ImageCompositedMaskedWeight","pos":{"0":-2000,"1":680},"size":{"0":315,"1":78},"flags":{},"order":85,"mode":0,"inputs":[{"name":"source","type":"IMAGE","link":1996,"label":"source"},{"name":"mask","type":"IMAGE","link":2868,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2018,3128],"slot_index":0,"shape":3,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageCompositedMaskedWeight"},"widgets_values":[0.1]},{"id":1227,"type":"workflow/controlnetunion","pos":{"0":-1000,"1":970},"size":{"0":315,"1":190},"flags":{},"order":92,"mode":0,"inputs":[{"name":"ControlNet","type":"CONTROL_NET","link":3114,"label":"ControlNet"},{"name":"正面条件","type":"CONDITIONING","link":3102,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","link":3103,"label":"负面条件"},{"name":"图像","type":"IMAGE","link":3128,"label":"图像"}],"outputs":[{"name":"正面条件","type":"CONDITIONING","links":[3127],"slot_index":0,"shape":3,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","links":[3105],"slot_index":1,"shape":3,"label":"负面条件"}],"properties":{"Node name for S&R":"workflow/controlnetunion"},"widgets_values":["depth",0.15,0,1]},{"id":1096,"type":"Eff. Loader SDXL","pos":{"0":-1230,"1":-590},"size":[390,750],"flags":{},"order":33,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":2818,"label":"LoRA堆"},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":2819,"label":"ControlNet堆"},{"name":"positive","type":"STRING","link":2968,"widget":{"name":"positive"},"label":"正面条件"},{"name":"negative","type":"STRING","link":2817,"widget":{"name":"negative"},"label":"负面条件"}],"outputs":[{"name":"SDXL_TUPLE","type":"SDXL_TUPLE","links":[2820],"slot_index":0,"shape":3,"label":"SDXL元组"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":[2834],"slot_index":2,"shape":3,"label":"VAE"},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3,"label":"依赖"}],"properties":{"Node name for S&R":"Eff. Loader SDXL"},"widgets_values":["sdxl/realvisxlV40_v40Bakedvae.safetensors",-2,"sdxl/sd_xl_refiner_1.0.safetensors",-1,6,3,"Baked VAE","CLIP_POSITIVE","CLIP_NEGATIVE","none","compel",1024,1024,1,true,true],"color":"#2a363b","bgcolor":"#3f5159","shape":1},{"id":1099,"type":"KSampler SDXL (Eff.)","pos":{"0":630,"1":-540},"size":{"0":330,"1":550},"flags":{},"order":97,"mode":0,"inputs":[{"name":"sdxl_tuple","type":"SDXL_TUPLE","link":2829,"slot_index":0,"label":"SDXL元组"},{"name":"latent_image","type":"LATENT","link":2860,"label":"Latent"},{"name":"optional_vae","type":"VAE","link":2836,"label":"VAE(可选)"},{"name":"script","type":"SCRIPT","link":null,"label":"脚本"}],"outputs":[{"name":"SDXL_TUPLE","type":"SDXL_TUPLE","links":null,"shape":3,"label":"SDXL元组"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":null,"shape":3,"label":"VAE"},{"name":"IMAGE","type":"IMAGE","links":[2842],"slot_index":3,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"KSampler SDXL (Eff.)"},"widgets_values":[628369668806061,null,35,7,"dpmpp_2m_sde_gpu","karras",0,30,"auto","true"],"color":"#223333","bgcolor":"#335555","shape":1}],"links":[[429,218,0,228,0,"IMAGE"],[444,37,0,239,0,"STRING"],[579,302,0,307,1,"INT"],[580,303,0,307,2,"INT"],[990,238,0,239,1,"STRING"],[1125,280,0,139,0,"IMAGE"],[1326,555,0,556,0,"*"],[1581,263,0,690,0,"*"],[1617,690,0,250,0,"*"],[1657,302,0,228,1,"INT"],[1658,303,0,228,2,"INT"],[1665,333,0,302,0,"*"],[1666,333,1,303,0,"*"],[1775,333,0,767,0,"INT"],[1776,333,1,767,1,"INT"],[1777,767,0,768,0,"MASK"],[1796,772,0,277,0,"*"],[1808,309,0,686,0,"IMAGE"],[1812,693,0,683,0,"IMAGE"],[1835,248,0,786,0,"IMAGE"],[1840,788,0,789,0,"IMAGE"],[1848,248,0,788,0,"IMAGE"],[1902,301,0,218,0,"IMAGE"],[1905,676,0,807,1,"IMAGE"],[1906,807,0,772,0,"IMAGE"],[1907,807,0,788,1,"IMAGE"],[1908,807,0,796,0,"IMAGE"],[1983,322,0,301,0,"*"],[1996,228,0,223,0,"IMAGE"],[2018,223,0,838,0,"IMAGE"],[2021,301,0,844,0,"IMAGE"],[2022,844,0,307,0,"IMAGE"],[2088,288,0,254,0,"*"],[2168,768,0,884,0,"*"],[2169,884,0,807,0,"IMAGE"],[2172,885,0,886,0,"IMAGE"],[2173,367,0,887,0,"IMAGE"],[2174,368,0,888,0,"IMAGE"],[2195,890,0,896,0,"IMAGE"],[2207,876,0,875,4,"BRMODEL"],[2211,249,0,875,3,"MASK"],[2219,277,0,249,0,"*"],[2281,882,0,923,0,"IMAGE"],[2282,693,0,923,1,"IMAGE"],[2299,368,0,932,0,"*"],[2310,693,0,936,0,"*"],[2316,938,0,882,3,"IMAGE"],[2317,362,0,939,0,"*"],[2319,367,0,248,0,"*"],[2334,368,0,304,0,"*"],[2365,947,0,950,0,"IMAGE"],[2368,948,0,952,0,"*"],[2370,952,0,937,0,"*"],[2371,932,0,953,0,"*"],[2374,949,0,954,0,"*"],[2382,958,0,882,6,"INT"],[2383,959,0,882,7,"INT"],[2430,939,0,882,4,"INT"],[2481,844,0,988,0,"IMAGE"],[2482,218,0,989,0,"IMAGE"],[2484,882,0,990,0,"IMAGE"],[2509,954,0,882,5,"BOOLEAN"],[2524,885,0,322,0,"*"],[2542,302,0,844,1,"INT"],[2543,302,0,218,1,"INT"],[2545,1013,0,931,0,"IMAGE"],[2554,1018,0,885,0,"*"],[2555,1018,0,333,0,"IMAGE"],[2556,1018,1,367,0,"*"],[2557,1018,2,368,0,"*"],[2558,1018,3,947,0,"*"],[2560,1018,5,890,0,"*"],[2562,1018,7,391,0,"*"],[2563,1018,7,362,0,"*"],[2564,1018,8,1009,0,"*"],[2565,1018,8,949,0,"*"],[2566,1018,9,1013,0,"*"],[2584,937,0,882,1,"IMAGE"],[2585,936,0,882,0,"IMAGE"],[2586,953,0,882,2,"IMAGE"],[2589,885,0,1027,0,"*"],[2641,1027,0,938,0,"*"],[2764,239,0,288,0,"*"],[2817,556,0,1096,3,"STRING"],[2818,250,0,1096,0,"LORA_STACK"],[2819,778,0,1096,1,"CONTROL_NET_STACK"],[2820,1096,0,1097,0,"SDXL_TUPLE"],[2829,1100,0,1099,0,"SDXL_TUPLE"],[2834,1096,2,1101,0,"*"],[2835,1101,0,875,1,"VAE"],[2836,1101,0,1099,2,"VAE"],[2837,1097,4,1100,4,"MODEL"],[2838,1097,5,1100,5,"CLIP"],[2839,1097,6,1100,6,"CONDITIONING"],[2840,1097,7,1100,7,"CONDITIONING"],[2841,1097,1,1100,1,"CLIP"],[2842,1099,3,693,0,"*"],[2854,875,1,1100,2,"CONDITIONING"],[2855,875,2,1100,3,"CONDITIONING"],[2860,875,3,1099,1,"LATENT"],[2861,304,0,1104,0,"IMAGE"],[2862,1104,0,1105,0,"MASK"],[2863,1105,0,1106,0,"MASK"],[2865,307,0,309,0,"IMAGE"],[2866,1106,0,1107,0,"*"],[2867,1107,0,309,1,"IMAGE"],[2868,1107,0,223,1,"IMAGE"],[2869,1106,0,1108,0,"IMAGE"],[2870,304,0,1108,1,"IMAGE"],[2875,693,0,1110,0,"IMAGE"],[2876,248,0,1111,0,"IMAGE"],[2889,680,0,219,0,"*"],[2894,1129,0,683,1,"IMAGE"],[2895,1129,0,990,1,"IMAGE"],[2904,680,0,1129,0,"*"],[2906,1132,0,958,0,"*"],[2907,1132,1,959,0,"*"],[2908,882,0,1133,0,"IMAGE"],[2939,1018,6,1149,0,"*"],[2943,1149,0,1065,0,"IMAGE"],[2967,890,0,1155,0,"*"],[2968,254,0,1096,2,"STRING"],[2993,875,0,1100,0,"MODEL"],[2997,248,0,875,2,"IMAGE"],[3011,37,0,1018,2,"STRING"],[3012,238,0,1018,3,"STRING"],[3013,1097,0,875,0,"MODEL"],[3027,1018,4,948,0,"*"],[3029,948,0,280,0,"*"],[3061,280,0,796,1,"IMAGE"],[3062,139,0,676,0,"MASK"],[3073,219,0,1132,0,"IMAGE"],[3074,219,0,1018,0,"IMAGE"],[3085,882,0,1212,0,"IMAGE"],[3087,882,0,1213,1,"IMAGE"],[3088,1212,0,1213,0,"IMAGE"],[3098,1220,0,1226,0,"CONTROL_NET"],[3102,1226,0,1227,1,"CONDITIONING"],[3103,1226,1,1227,2,"CONDITIONING"],[3105,1227,1,1229,0,"*"],[3106,1097,2,1230,0,"*"],[3107,1097,3,1231,0,"*"],[3108,1230,0,1226,1,"CONDITIONING"],[3109,1231,0,1226,2,"CONDITIONING"],[3110,309,0,1226,3,"IMAGE"],[3112,1228,0,875,5,"CONDITIONING"],[3113,1229,0,875,6,"CONDITIONING"],[3114,1220,0,1227,0,"CONTROL_NET"],[3121,948,0,951,0,"IMAGE"],[3127,1227,0,1228,0,"*"],[3128,223,0,1227,3,"IMAGE"]],"groups":[{"title":"用户输入","bounding":[-4434,-2390,1126,877],"color":"#3f789e","font_size":24,"flags":{}},{"title":"图像预处理","bounding":[-4404,-1348,1112,548],"color":"#3f789e","font_size":24,"flags":{}},{"title":"ControlNet","bounding":[-2950,290,3280,1200],"color":"#3f789e","font_size":24,"flags":{}},{"title":"重回区域遮罩","bounding":[-2924,-685,1311,854],"color":"#3f789e","font_size":24,"flags":{}},{"title":"服装+背景一次生成","bounding":[-1370,-700,2613,898],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.7400249944258239,"offset":[902.4122706399372,734.1488605118265]},"workspace_info":{"id":"Jdk7y2E8N6kW-kEtgiWkb","saveLock":false,"cloudID":null,"coverMediaPath":null},"groupNodes":{"controlnetunion":{"nodes":[{"id":-1,"type":"SetUnionControlNetType","pos":{"0":-910,"1":610},"size":{"0":315,"1":58},"flags":{},"order":7,"mode":0,"inputs":[{"name":"control_net","type":"CONTROL_NET","link":null,"label":"ControlNet"}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[],"shape":3,"label":"ControlNet","slot_index":0}],"properties":{"Node name for S&R":"SetUnionControlNetType"},"widgets_values":["auto"],"index":0},{"id":-1,"type":"ControlNetApplyAdvanced","pos":{"0":-840,"1":720},"size":{"0":315,"1":166},"flags":{},"order":13,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":null,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":null,"label":"负面条件"},{"name":"control_net","type":"CONTROL_NET","link":null,"label":"ControlNet"},{"name":"image","type":"IMAGE","link":null,"label":"图像"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":null,"shape":3,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","links":null,"shape":3,"label":"负面条件"}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1],"index":1}],"links":[[0,0,1,2,1223,"CONTROL_NET"]],"external":[]}}},"version":0.4}