{"last_node_id":641,"last_link_id":1251,"nodes":[{"id":589,"type":"ImageToMask","pos":[-1840,-610],"size":{"0":315,"1":58},"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1248,"label":"图像"}],"outputs":[{"name":"MASK","type":"MASK","links":[1188],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":603,"type":"Reroute","pos":[-790,-680],"size":[82,26],"flags":{},"order":10,"mode":0,"inputs":[{"name":"","type":"*","link":1247}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1231],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":611,"type":"Reroute","pos":[-850,-590],"size":[75,26],"flags":{},"order":14,"mode":0,"inputs":[{"name":"","type":"*","link":1188}],"outputs":[{"name":"MASK","type":"MASK","links":[1184,1232],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":623,"type":"List of strings [Crystools]","pos":[-1340,-60],"size":{"0":320,"1":270},"flags":{},"order":9,"mode":0,"inputs":[{"name":"string_1","type":"STRING","link":1212,"widget":{"name":"string_1"},"label":"字符串_1","slot_index":0},{"name":"string_2","type":"STRING","link":1213,"widget":{"name":"string_2"},"label":"字符串_2"},{"name":"string_3","type":"STRING","link":1214,"widget":{"name":"string_3"},"label":"字符串_3"}],"outputs":[{"name":"concatenated","type":"STRING","links":[1215],"shape":3,"label":"字符串合并","slot_index":0},{"name":"list_string","type":"ListString","links":null,"shape":6,"label":"字符串列表"}],"properties":{"Node name for S&R":"List of strings [Crystools]"},"widgets_values":["","","","","","","","",","]},{"id":565,"type":"INPAINT_VAEEncodeInpaintConditioning","pos":[430,-450],"size":{"0":292.20001220703125,"1":106},"flags":{},"order":17,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":1018,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":1019,"label":"负面条件"},{"name":"vae","type":"VAE","link":1020,"label":"VAE"},{"name":"pixels","type":"IMAGE","link":1237,"label":"图像"},{"name":"mask","type":"MASK","link":1184,"label":"遮罩"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[1192],"shape":3,"label":"正面条件","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[1193],"shape":3,"label":"负面条件","slot_index":1},{"name":"latent_inpaint","type":"LATENT","links":[1093],"shape":3,"label":"局部重绘Latent","slot_index":2},{"name":"latent_samples","type":"LATENT","links":[1195],"shape":3,"label":"采样Latent","slot_index":3}],"properties":{"Node name for S&R":"INPAINT_VAEEncodeInpaintConditioning"}},{"id":584,"type":"CR LoRA Stack","pos":[-1340,-480],"size":{"0":315,"1":342},"flags":{},"order":0,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"LoRA堆"}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[1118],"shape":3},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR LoRA Stack"},"widgets_values":["On","train_lora/prod_lora/20240707/20240707135505_707fcea9b7f84a3d885fa661afec2938/spmf_4_r_2024070713/spmf_4_r_2024070713.safetensors",1,1,"On","sdxl/AnalogRedmondV2-Analog-AnalogRedmAF.safetensors",0.6,1,"Off","None",1,1]},{"id":574,"type":"INPAINT_ApplyFooocusInpaint","pos":[480,-270],"size":{"0":210,"1":66},"flags":{},"order":18,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1061,"label":"模型"},{"name":"patch","type":"INPAINT_PATCH","link":1060,"label":"局部重绘组件"},{"name":"latent","type":"LATENT","link":1093,"label":"Latent"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1194],"shape":3,"label":"模型","slot_index":0}],"properties":{"Node name for S&R":"INPAINT_ApplyFooocusInpaint"}},{"id":573,"type":"INPAINT_LoadFooocusInpaint","pos":[430,-130],"size":{"0":315,"1":82},"flags":{},"order":1,"mode":0,"outputs":[{"name":"INPAINT_PATCH","type":"INPAINT_PATCH","links":[1060],"shape":3,"label":"局部重绘组件","slot_index":0}],"properties":{"Node name for S&R":"INPAINT_LoadFooocusInpaint"},"widgets_values":["fooocus/fooocus_inpaint_head.pth","fooocus/inpaint_v26.fooocus.patch"]},{"id":446,"type":"CR Multi-ControlNet Stack","pos":[-1860,-470],"size":{"0":418.1999816894531,"1":454},"flags":{},"order":11,"mode":0,"inputs":[{"name":"image_1","type":"IMAGE","link":1250,"label":"图像1"},{"name":"image_2","type":"IMAGE","link":1249,"label":"图像2"},{"name":"image_3","type":"IMAGE","link":null,"label":"图像3"},{"name":"controlnet_stack","type":"CONTROL_NET_STACK","link":null,"label":"ControlNet堆"}],"outputs":[{"name":"CONTROLNET_STACK","type":"CONTROL_NET_STACK","links":[636],"shape":3,"label":"ControlNet堆"},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Multi-ControlNet Stack"},"widgets_values":["On","diffusers_xl_canny_small.safetensors",0.6,0,1,"On","diffusers_xl_depth_small.safetensors",0.6,0,1,"Off","None",1,0,1]},{"id":626,"type":"Primitive string multiline [Crystools]","pos":[-1790,370],"size":{"0":380,"1":180},"flags":{},"order":2,"mode":0,"outputs":[{"name":"string","type":"STRING","links":[1214],"shape":3,"label":"字符串","slot_index":0}],"properties":{"Node name for S&R":"Primitive string multiline [Crystools]"},"widgets_values":["flawless,clean,masterpiece,professional artwork,famous artwork,,best quantity,"]},{"id":624,"type":"Primitive string multiline [Crystools]","pos":[-1770,30],"size":{"0":360,"1":90},"flags":{},"order":3,"mode":0,"outputs":[{"name":"string","type":"STRING","links":[1212],"shape":3,"label":"字符串"}],"properties":{"Node name for S&R":"Primitive string multiline [Crystools]"},"widgets_values":["a female"]},{"id":625,"type":"Primitive string multiline [Crystools]","pos":[-1790,180],"size":{"0":380,"1":140},"flags":{},"order":4,"mode":0,"outputs":[{"name":"string","type":"STRING","links":[1213],"shape":3,"label":"字符串","slot_index":0}],"properties":{"Node name for S&R":"Primitive string multiline [Crystools]"},"widgets_values":["(neked:1.2),(without any cloth:1.5),(without cloth:1.2),(smooth skin:1.2),detailed skin,perfect eyes,detail Face,highly detailed face and skin texture,ultra-realistic skin details"]},{"id":350,"type":"Efficient Loader","pos":[-930,-480],"size":{"0":340,"1":460},"flags":{},"order":13,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":1118,"label":"LoRA堆","slot_index":0},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":636,"label":"ControlNet堆","slot_index":1},{"name":"positive","type":"STRING","link":1215,"widget":{"name":"positive"},"label":"正面条件"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1061,1236],"shape":3,"label":"模型","slot_index":0},{"name":"CONDITIONING+","type":"CONDITIONING","links":[1018,1230],"shape":3,"label":"正面条件","slot_index":1},{"name":"CONDITIONING-","type":"CONDITIONING","links":[1019,1229],"shape":3,"label":"负面条件","slot_index":2},{"name":"LATENT","type":"LATENT","links":[],"shape":3,"label":"Latent","slot_index":3},{"name":"VAE","type":"VAE","links":[1020,1208,1228,1239],"shape":3,"label":"VAE","slot_index":4},{"name":"CLIP","type":"CLIP","links":[],"shape":3,"label":"CLIP","slot_index":5},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":[],"shape":3,"label":"依赖","slot_index":6}],"properties":{"Node name for S&R":"Efficient Loader"},"widgets_values":["sdxl/dreamshaperXL_v21TurboDPMSDE.safetensors","Baked VAE",-1,"None",1.3,1,"a female,vividly,skin_texture,Vivid,light and shadow of details, beautiful face,headshot,,best quality,highres,bright,Ultra clear details","embedding:negativeXL_D,cloth, NSFW, worst quality, normal quality, low quality, low res, blurry, text, watermark, logo, banner, extra digits, cropped, jpeg artifacts, signature, username, error, sketch, duplicate, ugly, monochrome, horror, geometry, mutation, disgusting ","mean","comfy",512,512,1],"color":"#332233","bgcolor":"#553355","shape":1},{"id":619,"type":"Reroute","pos":[1170,-570],"size":[75,26],"flags":{},"order":20,"mode":0,"inputs":[{"name":"","type":"*","link":1210}],"outputs":[{"name":"","type":"IMAGE","links":[1242,1243],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":634,"type":"CR Upscale Image","pos":[1390,-480],"size":{"0":320,"1":220},"flags":{},"order":22,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1242,"label":"图像"},{"name":"resize_width","type":"INT","link":1240,"widget":{"name":"resize_width"},"label":"拉伸宽度"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1244],"shape":3,"label":"图像","slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Upscale Image"},"widgets_values":["RealESRGAN/RealESRGAN_x4plus.pth","rescale",1,1024,"bilinear","true",8]},{"id":636,"type":"Save Image To OSS And Display","pos":[2190,-470],"size":{"0":315,"1":58},"flags":{},"order":24,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1246,"label":"images"}],"properties":{"Node name for S&R":"Save Image To OSS And Display"},"widgets_values":["comfyui"]},{"id":631,"type":"KSampler (Efficient)","pos":[-80,-460],"size":[330,560],"flags":{},"order":16,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1236,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":1233,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":1234,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":1235,"label":"Latent"},{"name":"optional_vae","type":"VAE","link":1239,"label":"VAE(可选)"},{"name":"script","type":"SCRIPT","link":null,"label":"脚本"}],"outputs":[{"name":"MODEL","type":"MODEL","links":null,"shape":3,"label":"模型"},{"name":"CONDITIONING+","type":"CONDITIONING","links":null,"shape":3,"label":"正面条件"},{"name":"CONDITIONING-","type":"CONDITIONING","links":null,"shape":3,"label":"负面条件"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":null,"shape":3,"label":"VAE"},{"name":"IMAGE","type":"IMAGE","links":[1237],"shape":3,"label":"图像","slot_index":5}],"properties":{"Node name for S&R":"KSampler (Efficient)"},"widgets_values":[469393087808373,null,10,2,"dpmpp_sde","karras",0.7000000000000001,"none","true"],"color":"#222233","bgcolor":"#333355","shape":1},{"id":632,"type":"INPAINT_VAEEncodeInpaintConditioning","pos":[-450,-190],"size":{"0":292.20001220703125,"1":106},"flags":{},"order":15,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":1230,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":1229,"label":"负面条件"},{"name":"vae","type":"VAE","link":1228,"label":"VAE"},{"name":"pixels","type":"IMAGE","link":1231,"label":"图像"},{"name":"mask","type":"MASK","link":1232,"label":"遮罩"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[1233],"shape":3,"label":"正面条件","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[1234],"shape":3,"label":"负面条件","slot_index":1},{"name":"latent_inpaint","type":"LATENT","links":[],"shape":3,"label":"局部重绘Latent","slot_index":2},{"name":"latent_samples","type":"LATENT","links":[1235],"shape":3,"label":"采样Latent","slot_index":3}],"properties":{"Node name for S&R":"INPAINT_VAEEncodeInpaintConditioning"}},{"id":630,"type":"Film Grain","pos":[1790,-470],"size":{"0":315,"1":178},"flags":{},"order":23,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1244,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1246,1251],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"Film Grain"},"widgets_values":[0.3,0.3,0.7,0,62999527838484,"randomize"]},{"id":641,"type":"PreviewImage","pos":[2220,-310],"size":{"0":210,"1":250},"flags":{},"order":25,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1251,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":637,"type":"Load Image From Url","pos":[-1460,-910],"size":{"0":300,"1":180},"flags":{},"order":5,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1247],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"Load Image From Url"},"widgets_values":["https://snapme-zh.oss-cn-hangzhou.aliyuncs.com/snapme/ai_photo/Beautiful_Prof_Photos/4_Elite/4_Elite_pose.jpg?OSSAccessKeyId=LTAI5tHqDx1z1WWw9mxtrX7s&Expires=1720526073&Signature=GxfGZIbUdPvvqhaKF5hBMTPOaXc%3D"]},{"id":639,"type":"Load Image From Url","pos":[-2210,-910],"size":{"0":270,"1":170},"flags":{},"order":6,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1249],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"Load Image From Url"},"widgets_values":["https://snapme-zh.oss-cn-hangzhou.aliyuncs.com/snapme/ai_photo/Beautiful_Prof_Photos/4_Elite/4_Elite_depth.png?OSSAccessKeyId=LTAI5tHqDx1z1WWw9mxtrX7s&Expires=1720526091&Signature=y4pA2tUP%2BA%2BUcEZqN%2BA8dIm43NU%3D"]},{"id":640,"type":"Load Image From Url","pos":[-2610,-900],"size":{"0":300,"1":160},"flags":{},"order":7,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1250],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"Load Image From Url"},"widgets_values":["https://snapme-zh.oss-cn-hangzhou.aliyuncs.com/snapme/ai_photo/Beautiful_Prof_Photos/4_Elite/4_Elite_canny.png?OSSAccessKeyId=LTAI5tHqDx1z1WWw9mxtrX7s&Expires=1720526097&Signature=ofcajZkTtzGyQR73vs8TQlgposc%3D"]},{"id":638,"type":"Load Image From Url","pos":[-1860,-920],"size":{"0":320,"1":170},"flags":{},"order":8,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1248],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"Load Image From Url"},"widgets_values":["https://snapme-zh.oss-cn-hangzhou.aliyuncs.com/snapme/ai_photo/Beautiful_Prof_Photos/4_Elite/4_Elite_mask.png?OSSAccessKeyId=LTAI5tHqDx1z1WWw9mxtrX7s&Expires=1720526165&Signature=%2FKyEx7l%2BixCnMYcUAz7rM90SlEw%3D"]},{"id":635,"type":"Get resolution [Crystools]","pos":[1420,-170],"size":{"0":210,"1":100},"flags":{},"order":21,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1243,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[1240],"shape":3,"label":"宽度","slot_index":0},{"name":"height","type":"INT","links":null,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":615,"type":"Fooocus_KSamplerEfficient","pos":[900,-470],"size":{"0":350,"1":590},"flags":{},"order":19,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1194,"label":"model"},{"name":"positive","type":"CONDITIONING","link":1192,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":1193,"label":"negative"},{"name":"latent_image","type":"LATENT","link":1195,"label":"latent_image"},{"name":"optional_vae","type":"VAE","link":1208,"label":"optional_vae"},{"name":"script","type":"SCRIPT","link":null,"label":"script"}],"outputs":[{"name":"MODEL","type":"MODEL","links":null,"shape":3,"label":"MODEL"},{"name":"CONDITIONING+","type":"CONDITIONING","links":null,"shape":3,"label":"CONDITIONING+"},{"name":"CONDITIONING-","type":"CONDITIONING","links":null,"shape":3,"label":"CONDITIONING-"},{"name":"LATENT","type":"LATENT","links":[],"shape":3,"label":"LATENT","slot_index":3},{"name":"VAE","type":"VAE","links":null,"shape":3,"label":"VAE"},{"name":"IMAGE","type":"IMAGE","links":[1210],"shape":3,"label":"IMAGE","slot_index":5}],"properties":{"Node name for S&R":"Fooocus_KSamplerEfficient"},"widgets_values":[847535459450203,"randomize",8,2,"dpmpp_sde","karras",0.2,"none","true (tiled)",2]}],"links":[[636,446,0,350,1,"CONTROL_NET_STACK"],[1018,350,1,565,0,"CONDITIONING"],[1019,350,2,565,1,"CONDITIONING"],[1020,350,4,565,2,"VAE"],[1060,573,0,574,1,"INPAINT_PATCH"],[1061,350,0,574,0,"MODEL"],[1093,565,2,574,2,"LATENT"],[1118,584,0,350,0,"LORA_STACK"],[1184,611,0,565,4,"MASK"],[1188,589,0,611,0,"*"],[1192,565,0,615,1,"CONDITIONING"],[1193,565,1,615,2,"CONDITIONING"],[1194,574,0,615,0,"MODEL"],[1195,565,3,615,3,"LATENT"],[1208,350,4,615,4,"VAE"],[1210,615,5,619,0,"*"],[1212,624,0,623,0,"STRING"],[1213,625,0,623,1,"STRING"],[1214,626,0,623,2,"STRING"],[1215,623,0,350,2,"STRING"],[1228,350,4,632,2,"VAE"],[1229,350,2,632,1,"CONDITIONING"],[1230,350,1,632,0,"CONDITIONING"],[1231,603,0,632,3,"IMAGE"],[1232,611,0,632,4,"MASK"],[1233,632,0,631,1,"CONDITIONING"],[1234,632,1,631,2,"CONDITIONING"],[1235,632,3,631,3,"LATENT"],[1236,350,0,631,0,"MODEL"],[1237,631,5,565,3,"IMAGE"],[1239,350,4,631,4,"VAE"],[1240,635,0,634,1,"INT"],[1242,619,0,634,0,"IMAGE"],[1243,619,0,635,0,"IMAGE"],[1244,634,0,630,0,"IMAGE"],[1246,630,0,636,0,"IMAGE"],[1247,637,0,603,0,"*"],[1248,638,0,589,0,"IMAGE"],[1249,639,0,446,1,"IMAGE"],[1250,640,0,446,0,"IMAGE"],[1251,630,0,641,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":1.0610764609500007,"offset":{"0":-367.7460946037499,"1":289.1775115913458}},"groupNodes":{},"workspace_info":{"id":"1RS-Y2oQZEKzRXVe7y7RU","saveLock":false,"cloudID":null,"coverMediaPath":null}},"version":0.4}