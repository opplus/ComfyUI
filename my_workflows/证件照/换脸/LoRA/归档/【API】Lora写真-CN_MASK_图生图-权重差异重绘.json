{"last_node_id":839,"last_link_id":1901,"nodes":[{"id":790,"type":"Reroute","pos":[-2386.2750879296327,-267.35304331249193],"size":[82,26],"flags":{},"order":12,"mode":0,"inputs":[{"name":"","type":"*","link":1891}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1752],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":730,"type":"PerturbedAttentionGuidance","pos":[-140,-410],"size":{"0":315,"1":58},"flags":{},"order":17,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1856,"label":"模型"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1855],"shape":3,"label":"模型","slot_index":0}],"properties":{"Node name for S&R":"PerturbedAttentionGuidance"},"widgets_values":[3]},{"id":632,"type":"INPAINT_VAEEncodeInpaintConditioning","pos":[-130,-250],"size":{"0":292.20001220703125,"1":106},"flags":{},"order":18,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":1230,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":1229,"label":"负面条件"},{"name":"vae","type":"VAE","link":1228,"label":"VAE"},{"name":"pixels","type":"IMAGE","link":1896,"label":"图像"},{"name":"mask","type":"MASK","link":1899,"label":"遮罩"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[1431],"shape":3,"label":"正面条件","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[1432],"shape":3,"label":"负面条件","slot_index":1},{"name":"latent_inpaint","type":"LATENT","links":[],"shape":3,"label":"局部重绘Latent","slot_index":2},{"name":"latent_samples","type":"LATENT","links":[1837],"shape":3,"label":"采样Latent","slot_index":3}],"properties":{"Node name for S&R":"INPAINT_VAEEncodeInpaintConditioning"}},{"id":623,"type":"List of strings [Crystools]","pos":[-1589.233802393611,67.33004588021734],"size":{"0":320,"1":270},"flags":{},"order":8,"mode":0,"inputs":[{"name":"string_1","type":"STRING","link":1859,"widget":{"name":"string_1"},"label":"字符串_1","slot_index":0},{"name":"string_2","type":"STRING","link":1792,"widget":{"name":"string_2"},"label":"字符串_2"},{"name":"string_3","type":"STRING","link":null,"widget":{"name":"string_3"},"label":"字符串_3"}],"outputs":[{"name":"concatenated","type":"STRING","links":[1215],"shape":3,"label":"字符串合并","slot_index":0},{"name":"list_string","type":"ListString","links":null,"shape":6,"label":"字符串列表"}],"properties":{"Node name for S&R":"List of strings [Crystools]"},"widgets_values":["","","","","","","","",","]},{"id":584,"type":"CR LoRA Stack","pos":[-1600,-360],"size":{"0":315,"1":342},"flags":{},"order":0,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"LoRA堆"}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[1836],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR LoRA Stack"},"widgets_values":["On","train_lora/prod_lora/20240712/20240712122236_12a0077a3e0e43f3afc8dc17ebe836b9/spmf_7016_r_2024071212/spmf_7016_r_2024071212.safetensors",0.8,1,"Off","None",0.6,1,"Off","None",1,1]},{"id":624,"type":"Primitive string multiline [Crystools]","pos":[-2120,150],"size":{"0":380,"1":130},"flags":{},"order":1,"mode":0,"outputs":[{"name":"string","type":"STRING","links":[1859],"shape":3,"label":"字符串","slot_index":0}],"properties":{"Node name for S&R":"Primitive string multiline [Crystools]"},"widgets_values":[""]},{"id":625,"type":"Primitive string multiline [Crystools]","pos":[-2120,340],"size":{"0":390,"1":140},"flags":{},"order":2,"mode":0,"outputs":[{"name":"string","type":"STRING","links":[1792],"shape":3,"label":"字符串","slot_index":0}],"properties":{"Node name for S&R":"Primitive string multiline [Crystools]"},"widgets_values":["(naked:1.2),(without any cloth:1.2),detailed skin texture,ultra-realistic skin details,best quality,masterpiece,photorealistic,realistic,\n"]},{"id":835,"type":"Save Image To OSS And Display","pos":[977.3190129672173,-453.1228448244629],"size":{"0":315,"1":58},"flags":{},"order":21,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1893,"label":"images"}],"properties":{"Node name for S&R":"Save Image To OSS And Display"},"widgets_values":["comfyui"]},{"id":619,"type":"Reroute","pos":[714.9245471001585,-462.8396547619077],"size":[75,26],"flags":{},"order":20,"mode":0,"inputs":[{"name":"","type":"*","link":1749}],"outputs":[{"name":"","type":"IMAGE","links":[1893],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":834,"type":"Load Image From Url","pos":[-3000,-520],"size":{"0":400,"1":200},"flags":{},"order":3,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1889],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"Load Image From Url"},"widgets_values":["https://snapme-zh.oss-cn-hangzhou.aliyuncs.com/snapme/ai_photo/popular/10-Rich%20Girl/10-Rich%20Girl-pose.jpg?OSSAccessKeyId=LTAI5tHqDx1z1WWw9mxtrX7s&Expires=1721113034&Signature=1Gvfyu%2FM39gLvZXe6kqv07wwpd4%3D"]},{"id":603,"type":"Reroute","pos":[-2390,-490],"size":[82,26],"flags":{},"order":9,"mode":0,"inputs":[{"name":"","type":"*","link":1889}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1896],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":831,"type":"Load Image From Url","pos":[-3000,-250],"size":{"0":400,"1":200},"flags":{},"order":4,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1897],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"Load Image From Url"},"widgets_values":["https://snapme-zh.oss-cn-hangzhou.aliyuncs.com/snapme/ai_photo/popular/10-Rich%20Girl/10-Rich%20Girl-mask.jpg?OSSAccessKeyId=LTAI5tHqDx1z1WWw9mxtrX7s&Expires=1721113042&Signature=ba59E1ffqWk10O3a48rbvKT%2BVrQ%3D"]},{"id":611,"type":"Reroute","pos":[-2390,-430],"size":[75,26],"flags":{},"order":14,"mode":0,"inputs":[{"name":"","type":"*","link":1898,"slot_index":0}],"outputs":[{"name":"MASK","type":"MASK","links":[1899],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":837,"type":"ImageToMask","pos":[-2570,-240],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":10,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1897,"label":"图像"}],"outputs":[{"name":"MASK","type":"MASK","links":[1898],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":833,"type":"Load Image From Url","pos":[-2990,290],"size":{"0":410,"1":370},"flags":{},"order":5,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1892],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"Load Image From Url"},"widgets_values":["https://snapme-zh.oss-cn-hangzhou.aliyuncs.com/snapme/ai_photo/popular/10-Rich%20Girl/10-Rich%20Girl-depth.jpg?OSSAccessKeyId=LTAI5tHqDx1z1WWw9mxtrX7s&Expires=1721113057&Signature=pkhAfIBFxvq%2F7ReVwQE3dLvpKxw%3D"]},{"id":832,"type":"Load Image From Url","pos":[-2990,20],"size":{"0":400,"1":200},"flags":{},"order":6,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1891],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"Load Image From Url"},"widgets_values":["https://snapme-zh.oss-cn-hangzhou.aliyuncs.com/snapme/ai_photo/popular/10-Rich%20Girl/10-Rich%20Girl-canny.jpg?OSSAccessKeyId=LTAI5tHqDx1z1WWw9mxtrX7s&Expires=1721113049&Signature=AcGyva6AHPsXXPYsiaxAuK80GhI%3D"]},{"id":791,"type":"Reroute","pos":[-2390,-220],"size":[82,26],"flags":{},"order":11,"mode":0,"inputs":[{"name":"","type":"*","link":1892}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1753],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":838,"type":"Load Image From Url","pos":[-2980,600],"size":{"0":400,"1":200},"flags":{},"order":7,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1900],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"Load Image From Url"},"widgets_values":["https://snapme-zh.oss-cn-hangzhou.aliyuncs.com/snapme/ai_photo/popular/10-Rich%20Girl/10-Rich%20Girl-canny.jpg?OSSAccessKeyId=LTAI5tHqDx1z1WWw9mxtrX7s&Expires=1721113049&Signature=AcGyva6AHPsXXPYsiaxAuK80GhI%3D"]},{"id":446,"type":"CR Multi-ControlNet Stack","pos":[-2139.233802393611,-372.66995411978263],"size":{"0":418.1999816894531,"1":454},"flags":{},"order":15,"mode":0,"inputs":[{"name":"image_1","type":"IMAGE","link":1752,"label":"图像1"},{"name":"image_2","type":"IMAGE","link":1753,"label":"图像2"},{"name":"image_3","type":"IMAGE","link":1901,"label":"图像3"},{"name":"controlnet_stack","type":"CONTROL_NET_STACK","link":null,"label":"ControlNet堆"}],"outputs":[{"name":"CONTROLNET_STACK","type":"CONTROL_NET_STACK","links":[636],"shape":3,"label":"ControlNet堆","slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"CR Multi-ControlNet Stack"},"widgets_values":["On","controlnet-union-sdxl-1.0.safetensors",0.3,0,1,"On","controlnet-union-sdxl-1.0.safetensors",0.3,0,1,"On","controlnet-union-sdxl-1.0.safetensors",0.3,0,1]},{"id":839,"type":"Reroute","pos":[-2390,-170],"size":[82,26],"flags":{},"order":13,"mode":0,"inputs":[{"name":"","type":"*","link":1900}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1901],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":350,"type":"Efficient Loader","pos":[-600,-420],"size":{"0":370,"1":470},"flags":{},"order":16,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":1836,"label":"LoRA堆","slot_index":0},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":636,"label":"ControlNet堆","slot_index":1},{"name":"positive","type":"STRING","link":1215,"widget":{"name":"positive"},"label":"正面条件"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1856],"shape":3,"label":"模型","slot_index":0},{"name":"CONDITIONING+","type":"CONDITIONING","links":[1230],"shape":3,"label":"正面条件","slot_index":1},{"name":"CONDITIONING-","type":"CONDITIONING","links":[1229],"shape":3,"label":"负面条件","slot_index":2},{"name":"LATENT","type":"LATENT","links":[],"shape":3,"label":"Latent","slot_index":3},{"name":"VAE","type":"VAE","links":[1228,1239],"shape":3,"label":"VAE","slot_index":4},{"name":"CLIP","type":"CLIP","links":[],"shape":3,"label":"CLIP","slot_index":5},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":[],"shape":3,"label":"依赖","slot_index":6}],"properties":{"Node name for S&R":"Efficient Loader"},"widgets_values":["sdxl/dreamshaperXL_v21TurboDPMSDE.safetensors","Baked VAE",-2,"None",1.3,1,"a female,vividly,skin_texture,Vivid,light and shadow of details, beautiful face,headshot,,best quality,highres,bright,Ultra clear details","embedding:negativeXL_D.safetensors, NSFW, worst quality, normal quality, low quality, low res, blurry, text, watermark, logo, banner, extra digits, cropped, jpeg artifacts, signature, username, error, sketch, duplicate, ugly, monochrome, horror, geometry, mutation, disgusting ","mean","comfy",512,512,1],"color":"#332233","bgcolor":"#553355","shape":1},{"id":631,"type":"KSampler (Efficient)","pos":[280,-430],"size":[330,560],"flags":{},"order":19,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1855,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":1431,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":1432,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":1837,"label":"Latent"},{"name":"optional_vae","type":"VAE","link":1239,"label":"VAE(可选)"},{"name":"script","type":"SCRIPT","link":null,"label":"脚本","slot_index":5}],"outputs":[{"name":"MODEL","type":"MODEL","links":[],"shape":3,"label":"模型","slot_index":0},{"name":"CONDITIONING+","type":"CONDITIONING","links":[],"shape":3,"label":"正面条件","slot_index":1},{"name":"CONDITIONING-","type":"CONDITIONING","links":[],"shape":3,"label":"负面条件","slot_index":2},{"name":"LATENT","type":"LATENT","links":[],"shape":3,"label":"Latent","slot_index":3},{"name":"VAE","type":"VAE","links":[],"shape":3,"label":"VAE","slot_index":4},{"name":"IMAGE","type":"IMAGE","links":[1749],"shape":3,"label":"图像","slot_index":5}],"properties":{"Node name for S&R":"KSampler (Efficient)"},"widgets_values":[209258974627034,null,10,2,"euler_ancestral","ddim_uniform",0.8,"auto","true"],"color":"#222233","bgcolor":"#333355","shape":1}],"links":[[636,446,0,350,1,"CONTROL_NET_STACK"],[1215,623,0,350,2,"STRING"],[1228,350,4,632,2,"VAE"],[1229,350,2,632,1,"CONDITIONING"],[1230,350,1,632,0,"CONDITIONING"],[1239,350,4,631,4,"VAE"],[1431,632,0,631,1,"CONDITIONING"],[1432,632,1,631,2,"CONDITIONING"],[1749,631,5,619,0,"*"],[1752,790,0,446,0,"IMAGE"],[1753,791,0,446,1,"IMAGE"],[1792,625,0,623,1,"STRING"],[1836,584,0,350,0,"LORA_STACK"],[1837,632,3,631,3,"LATENT"],[1855,730,0,631,0,"MODEL"],[1856,350,0,730,0,"MODEL"],[1859,624,0,623,0,"STRING"],[1889,834,0,603,0,"*"],[1891,832,0,790,0,"*"],[1892,833,0,791,0,"*"],[1893,619,0,835,0,"IMAGE"],[1896,603,0,632,3,"IMAGE"],[1897,831,0,837,0,"IMAGE"],[1898,837,0,611,0,"*"],[1899,611,0,632,4,"MASK"],[1900,838,0,839,0,"*"],[1901,839,0,446,2,"IMAGE"]],"groups":[{"title":"step1-inpaint","bounding":[-724,-527,1489,745],"color":"#3f789e","font_size":24,"locked":false},{"title":"输入条件","bounding":[-2350,-544,1109,1425],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{"ds":{"scale":1.1671841070450009,"offset":{"0":205.3233951214893,"1":533.6893784759753}},"groupNodes":{},"workspace_info":{"id":"0wZeqBRBUPJEfTpRFOwZS","saveLock":false,"cloudID":null,"coverMediaPath":null}},"version":0.4}