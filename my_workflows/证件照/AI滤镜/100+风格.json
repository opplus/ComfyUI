{"last_node_id":93,"last_link_id":174,"nodes":[{"id":66,"type":"SaveImage","pos":{"0":290,"1":-100},"size":{"0":490,"1":670},"flags":{},"order":12,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":111,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":65,"type":"SaveImage","pos":{"0":-320,"1":-110},"size":{"0":490,"1":670},"flags":{},"order":11,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":110,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":12,"type":"VAEEncode","pos":{"0":1300,"1":710},"size":{"0":210,"1":46},"flags":{},"order":22,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":114,"label":"图像"},{"name":"vae","type":"VAE","link":115,"label":"VAE"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[98],"slot_index":0,"shape":3,"label":"Latent"}],"properties":{"Node name for S&R":"VAEEncode"},"widgets_values":[],"color":"#323","bgcolor":"#535"},{"id":74,"type":"Reroute","pos":{"0":850,"1":800},"size":[75,26],"flags":{},"order":17,"mode":0,"inputs":[{"name":"","type":"*","link":142,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[137],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":75,"type":"Reroute","pos":{"0":850,"1":860},"size":[75,26],"flags":{},"order":18,"mode":0,"inputs":[{"name":"","type":"*","link":143,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[139],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":70,"type":"Get resolution [Crystools]","pos":{"0":-980,"1":1750},"size":{"0":210,"1":100},"flags":{},"order":6,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":123,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[124,125],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":null,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":68,"type":"Reroute","pos":{"0":-960,"1":710},"size":[75,26],"flags":{},"order":5,"mode":0,"inputs":[{"name":"","type":"*","link":113}],"outputs":[{"name":"","type":"IMAGE","links":[114,120,121,123,131],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":54,"type":"Florence2Run","pos":{"0":-530,"1":840},"size":{"0":400,"1":352},"flags":{},"order":7,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":131,"slot_index":0,"label":"图像"},{"name":"florence2_model","type":"FL2MODEL","link":90,"slot_index":1,"label":"Florence2"}],"outputs":[{"name":"image","type":"IMAGE","links":null,"shape":3,"label":"图像"},{"name":"mask","type":"MASK","links":null,"shape":3,"label":"遮罩"},{"name":"caption","type":"STRING","links":[88],"slot_index":2,"shape":3,"label":"caption"},{"name":"data","type":"JSON","links":null,"shape":3,"label":"json数据"}],"properties":{"Node name for S&R":"Florence2Run"},"widgets_values":["","more_detailed_caption",true,false,1024,3,true,"",777537324830341,"randomize",true]},{"id":56,"type":"Display Any (rgthree)","pos":{"0":-520,"1":1370},"size":{"0":380,"1":150},"flags":{},"order":13,"mode":0,"inputs":[{"name":"source","type":"*","link":91,"label":"输入","dir":3}],"outputs":[],"properties":{"Node name for S&R":"Display Any (rgthree)"},"widgets_values":["\"3D papercut shadow box of A woman is wearing a black shirt and a colorful lanyard around her neck. She is wearing glasses and has blonde hair. There is a desk and a chair behind her.  . layered, dimensional, depth, silhouette, shadow, papercut, handmade, high contrast\""]},{"id":76,"type":"List of strings [Crystools]","pos":{"0":440,"1":820},"size":{"0":320,"1":270},"flags":{},"order":14,"mode":0,"inputs":[{"name":"string_1","type":"STRING","link":145,"slot_index":0,"widget":{"name":"string_1"},"label":"字符串_1"},{"name":"string_2","type":"STRING","link":141,"widget":{"name":"string_2"},"label":"字符串_2"},{"name":"string_3","type":"STRING","link":null,"widget":{"name":"string_3"},"label":"字符串_3"}],"outputs":[{"name":"concatenated","type":"STRING","links":[142],"slot_index":0,"shape":3,"label":"字符串合并"},{"name":"list_string","type":"ListString","links":null,"shape":6,"label":"字符串列表"}],"properties":{"Node name for S&R":"List of strings [Crystools]"},"widgets_values":["","","","","","","","",","]},{"id":77,"type":"List of strings [Crystools]","pos":{"0":450,"1":1260},"size":{"0":320,"1":270},"flags":{},"order":16,"mode":0,"inputs":[{"name":"string_1","type":"STRING","link":144,"widget":{"name":"string_1"},"label":"字符串_1"},{"name":"string_2","type":"STRING","link":null,"widget":{"name":"string_2"},"label":"字符串_2"},{"name":"string_3","type":"STRING","link":null,"widget":{"name":"string_3"},"label":"字符串_3"}],"outputs":[{"name":"concatenated","type":"STRING","links":[143],"slot_index":0,"shape":3,"label":"字符串合并"},{"name":"list_string","type":"ListString","links":null,"shape":6,"label":"字符串列表"}],"properties":{"Node name for S&R":"List of strings [Crystools]"},"widgets_values":["","","","","","","","",","]},{"id":73,"type":"CR LoRA Stack","pos":{"0":1260,"1":1420},"size":{"0":315,"1":342},"flags":{},"order":0,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"LoRA堆","shape":7}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[],"shape":3},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR LoRA Stack"},"widgets_values":["On","CLAYMATE_V2.03_.safetensors",0.9500000000000001,1,"On","DD-made-of-clay-XL-v2.safetensors",0.45,1,"Off","None",1,1]},{"id":63,"type":"AIO_Preprocessor","pos":{"0":-440,"1":1810},"size":{"0":320,"1":80},"flags":{},"order":9,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":121,"label":"图像"},{"name":"resolution","type":"INT","link":125,"widget":{"name":"resolution"},"label":"分辨率"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[111,155],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["MiDaS-DepthMapPreprocessor",512]},{"id":62,"type":"AIO_Preprocessor","pos":{"0":-430,"1":1980},"size":{"0":320,"1":80},"flags":{},"order":8,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":120,"label":"图像"},{"name":"resolution","type":"INT","link":124,"widget":{"name":"resolution"},"label":"分辨率"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[110,159],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["AnyLineArtPreprocessor_aux",512]},{"id":57,"type":"Display Any (rgthree)","pos":{"0":-40,"1":1410},"size":{"0":380,"1":76},"flags":{},"order":15,"mode":0,"inputs":[{"name":"source","type":"*","link":92,"label":"输入","dir":3}],"outputs":[],"properties":{"Node name for S&R":"Display Any (rgthree)"},"widgets_values":["\"painting, drawing, photo, 2D, flat, high detail, blurry, noisy, disfigured\""]},{"id":85,"type":"Reroute","pos":{"0":880,"1":1740},"size":[75,26],"flags":{},"order":26,"mode":0,"inputs":[{"name":"","type":"*","link":160}],"outputs":[{"name":"","type":"CONDITIONING","links":[167],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":86,"type":"Reroute","pos":{"0":880,"1":1790},"size":[75,26],"flags":{},"order":27,"mode":0,"inputs":[{"name":"","type":"*","link":161}],"outputs":[{"name":"","type":"CONDITIONING","links":[168],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":55,"type":"DownloadAndLoadFlorence2Model","pos":{"0":-530,"1":1200},"size":{"0":400,"1":120},"flags":{},"order":1,"mode":0,"inputs":[{"name":"lora","type":"PEFTLORA","link":null,"shape":7,"label":"LoRA"}],"outputs":[{"name":"florence2_model","type":"FL2MODEL","links":[90],"shape":3,"label":"Florence2"}],"properties":{"Node name for S&R":"DownloadAndLoadFlorence2Model"},"widgets_values":["microsoft/Florence-2-large-ft","fp16","sdpa"]},{"id":90,"type":"Reroute","pos":{"0":0,"1":1860},"size":[75,26],"flags":{},"order":23,"mode":0,"inputs":[{"name":"","type":"*","link":169}],"outputs":[{"name":"","type":"VAE","links":[170,171],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":89,"type":"Reroute","pos":{"0":0,"1":1780},"size":[75,26],"flags":{},"order":21,"mode":0,"inputs":[{"name":"","type":"*","link":165}],"outputs":[{"name":"","type":"CONDITIONING","links":[163]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":88,"type":"Reroute","pos":{"0":10,"1":1710},"size":[75,26],"flags":{},"order":20,"mode":0,"inputs":[{"name":"","type":"*","link":164}],"outputs":[{"name":"","type":"CONDITIONING","links":[162],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":80,"type":"ControlNetLoader","pos":{"0":140,"1":1740},"size":{"0":315,"1":58},"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[152,158],"slot_index":0,"label":"ControlNet"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["controlnet-union-sdxl-promax-1.0.safetensors"]},{"id":84,"type":"workflow>controlnet","pos":{"0":130,"1":1890},"size":{"0":315,"1":210},"flags":{},"order":24,"mode":0,"inputs":[{"name":"ControlNet","type":"CONTROL_NET","link":152,"label":"ControlNet"},{"name":"正面条件","type":"CONDITIONING","link":162,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","link":163,"label":"负面条件"},{"name":"VAE","type":"VAE","link":170,"label":"VAE"},{"name":"图像","type":"IMAGE","link":155,"label":"图像"}],"outputs":[{"name":"正面条件","type":"CONDITIONING","links":[156],"slot_index":0,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","links":[157],"slot_index":1,"label":"负面条件"}],"properties":{"Node name for S&R":"workflow>controlnet"},"widgets_values":["depth",0.4,0,1]},{"id":87,"type":"workflow>controlnet","pos":{"0":130,"1":2150},"size":{"0":315,"1":210},"flags":{},"order":25,"mode":0,"inputs":[{"name":"ControlNet","type":"CONTROL_NET","link":158,"label":"ControlNet"},{"name":"正面条件","type":"CONDITIONING","link":156,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","link":157,"label":"负面条件"},{"name":"VAE","type":"VAE","link":171,"label":"VAE"},{"name":"图像","type":"IMAGE","link":159,"label":"图像"}],"outputs":[{"name":"正面条件","type":"CONDITIONING","links":[160],"slot_index":0,"label":"正面条件"},{"name":"负面条件","type":"CONDITIONING","links":[161],"slot_index":1,"label":"负面条件"}],"properties":{"Node name for S&R":"workflow>controlnet"},"widgets_values":["canny/lineart/anime_lineart/mlsd",0.4,0,1]},{"id":9,"type":"SaveImage","pos":{"0":1470,"1":-100},"size":{"0":490,"1":670},"flags":{},"order":29,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":99,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":78,"type":"Primitive string multiline [Crystools]","pos":{"0":-50,"1":860},"size":{"0":350,"1":140},"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"string","type":"STRING","links":[145],"shape":3,"label":"字符串"}],"properties":{"Node name for S&R":"Primitive string multiline [Crystools]"},"widgets_values":["",true]},{"id":11,"type":"LoadImage","pos":{"0":890,"1":-110},"size":{"0":500,"1":710},"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[113],"slot_index":0,"shape":3,"label":"图像"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["898599f6-1dd7-4ff0-8e61-bd224828c59b.png","image"]},{"id":10,"type":"SDXLPromptStyler","pos":{"0":-30,"1":1090},"size":{"0":320,"1":202},"flags":{},"order":10,"mode":0,"inputs":[{"name":"text_positive","type":"STRING","link":88,"widget":{"name":"text_positive"},"label":"正面条件"}],"outputs":[{"name":"text_positive","type":"STRING","links":[91,141],"slot_index":0,"shape":3,"label":"正面条件"},{"name":"text_negative","type":"STRING","links":[92,144],"slot_index":1,"shape":3,"label":"负面条件"}],"properties":{"Node name for S&R":"SDXLPromptStyler"},"widgets_values":["impressionism，monet，  oil painting, ，outdoors, sky, day, cloud, ,Donkey, no_humans, animal, scenery, animal_focus, field","","papercraft-papercut shadow box",true,true,true,true,true],"color":"#232","bgcolor":"#353"},{"id":59,"type":"Efficient Loader","pos":{"0":1240,"1":840},"size":{"0":400,"1":460},"flags":{},"order":19,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"slot_index":0,"label":"LoRA堆","shape":7},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":null,"label":"ControlNet堆","shape":7},{"name":"positive","type":"STRING","link":137,"slot_index":2,"widget":{"name":"positive"},"label":"正面条件"},{"name":"negative","type":"STRING","link":139,"widget":{"name":"negative"},"label":"负面条件"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[148],"slot_index":0,"shape":3,"label":"模型"},{"name":"CONDITIONING+","type":"CONDITIONING","links":[164],"slot_index":1,"shape":3,"label":"正面条件"},{"name":"CONDITIONING-","type":"CONDITIONING","links":[165],"slot_index":2,"shape":3,"label":"负面条件"},{"name":"LATENT","type":"LATENT","links":null,"slot_index":3,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":[96,115,169],"slot_index":4,"shape":3,"label":"VAE"},{"name":"CLIP","type":"CLIP","links":null,"shape":3,"label":"CLIP"},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3,"label":"依赖"}],"properties":{"Node name for S&R":"Efficient Loader"},"widgets_values":["juggernautXL_v9-Lightning_4S_V9_RDPhoto2.safetensors","Baked VAE",-1,"None",1,1,"CLIP_POSITIVE","CLIP_NEGATIVE","none","comfy",512,512,1,true,true],"color":"#2a363b","bgcolor":"#3f5159","shape":1},{"id":60,"type":"KSampler (Efficient)","pos":{"0":2310,"1":840},"size":{"0":350,"1":400},"flags":{},"order":28,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":148,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":167,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":168,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":98,"label":"Latent"},{"name":"optional_vae","type":"VAE","link":96,"label":"VAE(可选)","shape":7},{"name":"script","type":"SCRIPT","link":null,"label":"脚本","shape":7}],"outputs":[{"name":"MODEL","type":"MODEL","links":null,"shape":3,"label":"模型"},{"name":"CONDITIONING+","type":"CONDITIONING","links":null,"shape":3,"label":"正面条件"},{"name":"CONDITIONING-","type":"CONDITIONING","links":null,"shape":3,"label":"负面条件"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":null,"shape":3,"label":"VAE"},{"name":"IMAGE","type":"IMAGE","links":[99],"slot_index":5,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"KSampler (Efficient)"},"widgets_values":[793854455731901,null,10,3,"dpmpp_sde","karras",0.7000000000000001,"none","true"],"color":"#443322","bgcolor":"#665533","shape":1}],"links":[[88,54,2,10,0,"STRING"],[90,55,0,54,1,"FL2MODEL"],[91,10,0,56,0,"*"],[92,10,1,57,0,"*"],[96,59,4,60,4,"VAE"],[98,12,0,60,3,"LATENT"],[99,60,5,9,0,"IMAGE"],[110,62,0,65,0,"IMAGE"],[111,63,0,66,0,"IMAGE"],[113,11,0,68,0,"*"],[114,68,0,12,0,"IMAGE"],[115,59,4,12,1,"VAE"],[120,68,0,62,0,"IMAGE"],[121,68,0,63,0,"IMAGE"],[123,68,0,70,0,"IMAGE"],[124,70,0,62,1,"INT"],[125,70,0,63,1,"INT"],[131,68,0,54,0,"IMAGE"],[137,74,0,59,2,"STRING"],[139,75,0,59,3,"STRING"],[141,10,0,76,1,"STRING"],[142,76,0,74,0,"*"],[143,77,0,75,0,"*"],[144,10,1,77,0,"STRING"],[145,78,0,76,0,"STRING"],[148,59,0,60,0,"MODEL"],[152,80,0,84,0,"CONTROL_NET"],[155,63,0,84,4,"IMAGE"],[156,84,0,87,1,"CONDITIONING"],[157,84,1,87,2,"CONDITIONING"],[158,80,0,87,0,"CONTROL_NET"],[159,62,0,87,4,"IMAGE"],[160,87,0,85,0,"*"],[161,87,1,86,0,"*"],[162,88,0,84,1,"CONDITIONING"],[163,89,0,84,2,"CONDITIONING"],[164,59,1,88,0,"*"],[165,59,2,89,0,"*"],[167,85,0,60,1,"CONDITIONING"],[168,86,0,60,2,"CONDITIONING"],[169,59,4,90,0,"*"],[170,90,0,84,3,"VAE"],[171,90,0,87,3,"VAE"]],"groups":[{"title":"提示词","bounding":[-587,728,1507,862],"color":"#3f789e","font_size":24,"flags":{}},{"title":"ControlNet","bounding":[-600,1640,1510,770],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.6588450000000103,"offset":[-257.0369479593724,-231.43897279225789]},"groupNodes":{"controlnet":{"nodes":[{"id":-1,"type":"SetUnionControlNetType","pos":{"0":130,"1":1890},"size":{"0":315,"1":58},"flags":{},"order":6,"mode":0,"inputs":[{"name":"control_net","type":"CONTROL_NET","link":null,"label":"ControlNet"}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[],"label":"ControlNet","slot_index":0}],"properties":{"Node name for S&R":"SetUnionControlNetType"},"widgets_values":["auto"],"index":0},{"id":-1,"type":"ControlNetApplySD3","pos":{"0":160,"1":2020},"size":{"0":315,"1":186},"flags":{},"order":9,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":null,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":null,"label":"负面条件"},{"name":"control_net","type":"CONTROL_NET","link":null,"label":"ControlNet"},{"name":"vae","type":"VAE","link":null,"label":"VAE"},{"name":"image","type":"IMAGE","link":null,"label":"图像"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":null,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","links":null,"label":"负面条件"}],"properties":{"Node name for S&R":"ControlNetApplySD3"},"widgets_values":[1,0,1],"index":1}],"links":[[null,0,0,0,80,"CONTROL_NET"],[0,0,1,2,81,"CONTROL_NET"]],"external":[]}},"workspace_info":{"id":"uBm8yvz19UrZqpLNzhmNr","saveLock":false,"cloudID":null,"coverMediaPath":null}},"version":0.4}