{"last_node_id":1257,"last_link_id":3240,"nodes":[{"id":219,"type":"Reroute","pos":[-4440,-1270],"size":[75,26],"flags":{},"order":6,"mode":0,"inputs":[{"name":"","type":"*","link":2889,"slot_index":0,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[3201,3229],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":238,"type":"String Literal","pos":[-3874.4810018688304,-1765.7392696944594],"size":{"0":400,"1":200},"flags":{},"order":0,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[3138],"slot_index":0,"shape":3,"label":"STRING"}],"properties":{"Node name for S&R":"String Literal"},"widgets_values":["\"subject out door,subject standing on the sidewalk,solo, focuses on the people face,(around subject there are decorated exquisite boutique, display window, open-air café, restaurant, snack stall, bookstore in background)++,tall skyscrapers towering in the distance in midground,vibrant color palette,leading lines of the sidewalk and buildings guiding the viewer  eye,balanced exposure with highlights and shadows,desolate, deserted,dynamic composition,wide-angle shot,24mm focal length,f/8 aperture,1/250s shutter speed,ISO 200,crisp details and textures of the urban environment,depth of field,desolate atmosphere,professional portrait, realistic photography, perfect details, highest quality, masterpiece,35mm photograph,4k\"S",true]},{"id":248,"type":"Reroute","pos":[-1300,-570],"size":[82,26],"flags":{},"order":20,"mode":0,"inputs":[{"name":"","type":"*","link":3110,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2997],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":249,"type":"Reroute","pos":[-1300,-410],"size":[75,26],"flags":{},"order":19,"mode":0,"inputs":[{"name":"","type":"*","link":3167,"label":""}],"outputs":[{"name":"MASK","type":"MASK","links":[3197],"slot_index":0,"label":"MASK"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":254,"type":"Reroute","pos":[-1310,-510],"size":[90.4,26],"flags":{},"order":7,"mode":0,"inputs":[{"name":"","type":"*","link":2088,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[3179],"slot_index":0,"label":"STRING"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":288,"type":"Reroute","pos":[-3420,-1590],"size":[90.4,26],"flags":{},"order":4,"mode":0,"inputs":[{"name":"","type":"*","link":3138,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[2088],"slot_index":0,"label":"STRING"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":555,"type":"String Literal","pos":[-4394.481001868831,-1785.7392696944594],"size":{"0":400,"1":200},"flags":{},"order":1,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[1326],"slot_index":0,"shape":3,"label":"STRING"}],"properties":{"Node name for S&R":"String Literal"},"widgets_values":["\"embedding:negativeXL_D.safetensors\", \"NSFW\", \"Head accessories\",\"(worst quality, low quality, illustration, 3d, 2d, cartoon, painting, cartoons, sketch)+, open mouth, (long neck)+, (watermark)+, (text)+, extra fingers, inverted nipple, busty, large breasts, ugly, disgusting,(beard)++\"",true]},{"id":556,"type":"Reroute","pos":[-1310,-460],"size":[90.4,26],"flags":{},"order":5,"mode":0,"inputs":[{"name":"","type":"*","link":1326,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[2817],"slot_index":0,"label":"STRING"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":680,"type":"LoadImage","pos":[-880,-2210],"size":{"0":750,"1":1000},"flags":{},"order":2,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2889,3107,3235],"slot_index":0,"shape":3,"label":"图像"},{"name":"MASK","type":"MASK","links":[],"slot_index":1,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["0.65-1girl,Bare skin，best quality,highres,bright,Ultra clear details， (2).jpg","image"]},{"id":683,"type":"Image Comparer (rgthree)","pos":{"0":140,"1":-2230,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":750,"1":1040},"flags":{},"order":28,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":3233,"label":"图像_A","dir":3},{"name":"image_b","type":"IMAGE","link":3235,"label":"图像_B","dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_crlnz_00037_.png&type=temp&subfolder=&rand=0.545318837617063"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_crlnz_00038_.png&type=temp&subfolder=&rand=0.28151284121482645"}]]},{"id":693,"type":"Reroute","pos":[1270,-570],"size":[75,26],"flags":{},"order":25,"mode":0,"inputs":[{"name":"","type":"*","link":2842,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[2875,3230],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":875,"type":"BrushNet","pos":[-150,-180],"size":{"0":315,"1":226},"flags":{},"order":22,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":3013,"label":"模型"},{"name":"vae","type":"VAE","link":2835,"label":"VAE"},{"name":"image","type":"IMAGE","link":2997,"label":"图像"},{"name":"mask","type":"MASK","link":3197,"label":"遮罩"},{"name":"brushnet","type":"BRMODEL","link":2207,"slot_index":4,"label":"BrushNet"},{"name":"positive","type":"CONDITIONING","link":2826,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":2827,"label":"负面条件"}],"outputs":[{"name":"model","type":"MODEL","links":[3224],"slot_index":0,"shape":3,"label":"模型"},{"name":"positive","type":"CONDITIONING","links":[3227],"slot_index":1,"shape":3,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","links":[3226],"slot_index":2,"shape":3,"label":"负面条件"},{"name":"latent","type":"LATENT","links":[3228],"slot_index":3,"shape":3,"label":"Latent"}],"properties":{"Node name for S&R":"BrushNet"},"widgets_values":[1,0,1000]},{"id":876,"type":"BrushNetLoader","pos":[-150,90],"size":{"0":315,"1":82},"flags":{},"order":3,"mode":0,"outputs":[{"name":"brushnet","type":"BRMODEL","links":[2207],"shape":3,"label":"BrushNet"}],"properties":{"Node name for S&R":"BrushNetLoader"},"widgets_values":["brushnet_xl/segmentation_mask_brushnet_ckpt_v1.safetensors","float16"]},{"id":890,"type":"Reroute","pos":[-3330,-1030],"size":[82,26],"flags":{},"order":11,"mode":0,"inputs":[{"name":"","type":"*","link":3202,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3095,3155],"slot_index":0,"label":""}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1096,"type":"Eff. Loader SDXL","pos":[-1130,-520],"size":{"0":390,"1":690},"flags":{},"order":10,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"LoRA堆"},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":null,"label":"ControlNet堆"},{"name":"positive","type":"STRING","link":3179,"widget":{"name":"positive"},"label":"正面条件"},{"name":"negative","type":"STRING","link":2817,"widget":{"name":"negative"},"label":"负面条件"}],"outputs":[{"name":"SDXL_TUPLE","type":"SDXL_TUPLE","links":[2820],"slot_index":0,"shape":3,"label":"SDXL元组"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":[2834],"slot_index":2,"shape":3,"label":"VAE"},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3,"label":"依赖"}],"properties":{"Node name for S&R":"Eff. Loader SDXL"},"widgets_values":["sdxl/dreamshaperXL_v21TurboDPMSDE.safetensors",-1,"None",-1,6,3,"Baked VAE","CLIP_POSITIVE","CLIP_NEGATIVE","none","compel",1024,1024,1,true,true],"color":"#2a363b","bgcolor":"#3f5159","shape":1},{"id":1097,"type":"Unpack SDXL Tuple","pos":[-650,-470],"size":{"0":405.5999755859375,"1":166},"flags":{},"order":12,"mode":0,"inputs":[{"name":"sdxl_tuple","type":"SDXL_TUPLE","link":2820,"label":"SDXL元组"}],"outputs":[{"name":"BASE_MODEL","type":"MODEL","links":[3013],"slot_index":0,"shape":3,"label":"模型"},{"name":"BASE_CLIP","type":"CLIP","links":[2841],"slot_index":1,"shape":3,"label":"CLIP"},{"name":"BASE_CONDITIONING+","type":"CONDITIONING","links":[2826],"slot_index":2,"shape":3,"label":"正面条件"},{"name":"BASE_CONDITIONING-","type":"CONDITIONING","links":[2827],"slot_index":3,"shape":3,"label":"负面条件"},{"name":"REFINER_MODEL","type":"MODEL","links":[2837],"slot_index":4,"shape":3,"label":"模型(Refiner)"},{"name":"REFINER_CLIP","type":"CLIP","links":[2838],"slot_index":5,"shape":3,"label":"CLIP(Refiner)"},{"name":"REFINER_CONDITIONING+","type":"CONDITIONING","links":[2839],"slot_index":6,"shape":3,"label":"正面条件(Refiner)"},{"name":"REFINER_CONDITIONING-","type":"CONDITIONING","links":[2840],"slot_index":7,"shape":3,"label":"负面条件(Refiner)"}],"properties":{"Node name for S&R":"Unpack SDXL Tuple"},"shape":1},{"id":1099,"type":"KSampler SDXL (Eff.)","pos":[710,-480],"size":{"0":330,"1":550},"flags":{},"order":24,"mode":0,"inputs":[{"name":"sdxl_tuple","type":"SDXL_TUPLE","link":2829,"slot_index":0,"label":"SDXL元组"},{"name":"latent_image","type":"LATENT","link":3228,"label":"Latent"},{"name":"optional_vae","type":"VAE","link":2836,"label":"VAE(可选)"},{"name":"script","type":"SCRIPT","link":null,"label":"脚本"}],"outputs":[{"name":"SDXL_TUPLE","type":"SDXL_TUPLE","links":null,"shape":3,"label":"SDXL元组"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":null,"shape":3,"label":"VAE"},{"name":"IMAGE","type":"IMAGE","links":[2842],"slot_index":3,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"KSampler SDXL (Eff.)"},"widgets_values":[91094012031626,null,10,3,"dpmpp_sde","karras",2,-1,"auto","true"],"color":"#223333","bgcolor":"#335555","shape":1},{"id":1100,"type":"Pack SDXL Tuple","pos":[240,-470],"size":{"0":342.5999755859375,"1":166},"flags":{},"order":23,"mode":0,"inputs":[{"name":"base_model","type":"MODEL","link":3224,"label":"模型"},{"name":"base_clip","type":"CLIP","link":2841,"label":"CLIP"},{"name":"base_positive","type":"CONDITIONING","link":3227,"label":"正面条件"},{"name":"base_negative","type":"CONDITIONING","link":3226,"label":"负面条件"},{"name":"refiner_model","type":"MODEL","link":2837,"label":"模型(Refiner)"},{"name":"refiner_clip","type":"CLIP","link":2838,"label":"CLIP(Refiner)"},{"name":"refiner_positive","type":"CONDITIONING","link":2839,"label":"正面条件(Refiner)"},{"name":"refiner_negative","type":"CONDITIONING","link":2840,"label":"负面条件(Refiner)"}],"outputs":[{"name":"SDXL_TUPLE","type":"SDXL_TUPLE","links":[2829],"slot_index":0,"shape":3,"label":"SDXL元组"}],"properties":{"Node name for S&R":"Pack SDXL Tuple"},"shape":1},{"id":1101,"type":"Reroute","pos":[-110,-580],"size":[75,26],"flags":{},"order":13,"mode":0,"inputs":[{"name":"","type":"*","link":2834}],"outputs":[{"name":"VAE","type":"VAE","links":[2835,2836],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1110,"type":"Get resolution [Crystools]","pos":[1470,-910],"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":26,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2875,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":1220,"type":"ImageToMask","pos":[-2890,-1010],"size":{"0":315,"1":58},"flags":{},"order":14,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3095,"label":"图像"}],"outputs":[{"name":"MASK","type":"MASK","links":[3135],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":1222,"type":"MaskToImage","pos":[-2140,-1010],"size":{"0":210,"1":26},"flags":{},"order":18,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3137,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3205],"slot_index":0,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":1226,"type":"ImageResize+","pos":[-2440,-820],"size":{"0":320,"1":220},"flags":{},"order":17,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3107,"label":"图像"},{"name":"width","type":"INT","link":3121,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":3122,"widget":{"name":"height"},"label":"高度"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3110],"slot_index":0,"shape":3,"label":"图像"},{"name":"width","type":"INT","links":null,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":null,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[512,512,"nearest","stretch","always",0]},{"id":1231,"type":"Get resolution [Crystools]","pos":[-2860,-800],"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3155,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[3121],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[3122],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":1235,"type":"InvertMask","pos":[-2480,-1000],"size":{"0":210,"1":30},"flags":{},"order":16,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3135,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[3137,3167],"slot_index":0,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"InvertMask"}},{"id":1247,"type":"AliPersonMaskSegment","pos":[-3960,-1240],"size":{"0":315,"1":326},"flags":{},"order":8,"mode":0,"inputs":[{"name":"person_image","type":"IMAGE","link":3201,"label":"person_image"}],"outputs":[{"name":"head","type":"IMAGE","links":null,"shape":3,"label":"head"},{"name":"hair","type":"IMAGE","links":null,"shape":3,"label":"hair"},{"name":"body","type":"IMAGE","links":[3202],"slot_index":2,"shape":3,"label":"body"},{"name":"skin","type":"IMAGE","links":null,"shape":3,"label":"skin"},{"name":"face","type":"IMAGE","links":null,"shape":3,"label":"face"},{"name":"cloth","type":"IMAGE","links":null,"shape":3,"label":"cloth"}],"properties":{"Node name for S&R":"AliPersonMaskSegment"},"widgets_values":[false,false,true,false,false,false,"",false]},{"id":1248,"type":"PreviewImage","pos":[-1760,-2150],"size":{"0":670,"1":900},"flags":{},"order":21,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3205,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":1252,"type":"ImageResize+","pos":[1500,-710],"size":{"0":320,"1":220},"flags":{},"order":27,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3230,"label":"图像"},{"name":"width","type":"INT","link":3231,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":3232,"widget":{"name":"height"},"label":"高度"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3233,3234],"slot_index":0,"shape":3,"label":"图像"},{"name":"width","type":"INT","links":null,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":null,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[512,512,"nearest","stretch","always",0]},{"id":1253,"type":"Get resolution [Crystools]","pos":[1040,-910],"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":9,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3229,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[3231],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[3232],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":1254,"type":"Get resolution [Crystools]","pos":[2010,-920],"size":{"0":210,"1":100},"flags":{"collapsed":false},"order":29,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3234,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[],"slot_index":0,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":[],"slot_index":1,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}}],"links":[[1326,555,0,556,0,"*"],[2088,288,0,254,0,"*"],[2207,876,0,875,4,"BRMODEL"],[2817,556,0,1096,3,"STRING"],[2820,1096,0,1097,0,"SDXL_TUPLE"],[2826,1097,2,875,5,"CONDITIONING"],[2827,1097,3,875,6,"CONDITIONING"],[2829,1100,0,1099,0,"SDXL_TUPLE"],[2834,1096,2,1101,0,"*"],[2835,1101,0,875,1,"VAE"],[2836,1101,0,1099,2,"VAE"],[2837,1097,4,1100,4,"MODEL"],[2838,1097,5,1100,5,"CLIP"],[2839,1097,6,1100,6,"CONDITIONING"],[2840,1097,7,1100,7,"CONDITIONING"],[2841,1097,1,1100,1,"CLIP"],[2842,1099,3,693,0,"*"],[2875,693,0,1110,0,"IMAGE"],[2889,680,0,219,0,"*"],[2997,248,0,875,2,"IMAGE"],[3013,1097,0,875,0,"MODEL"],[3095,890,0,1220,0,"IMAGE"],[3107,680,0,1226,0,"IMAGE"],[3110,1226,0,248,0,"*"],[3121,1231,0,1226,1,"INT"],[3122,1231,1,1226,2,"INT"],[3135,1220,0,1235,0,"MASK"],[3137,1235,0,1222,0,"MASK"],[3138,238,0,288,0,"*"],[3155,890,0,1231,0,"IMAGE"],[3167,1235,0,249,0,"*"],[3179,254,0,1096,2,"STRING"],[3197,249,0,875,3,"MASK"],[3201,219,0,1247,0,"IMAGE"],[3202,1247,2,890,0,"*"],[3205,1222,0,1248,0,"IMAGE"],[3224,875,0,1100,0,"MODEL"],[3226,875,2,1100,3,"CONDITIONING"],[3227,875,1,1100,2,"CONDITIONING"],[3228,875,3,1099,1,"LATENT"],[3229,219,0,1253,0,"IMAGE"],[3230,693,0,1252,0,"IMAGE"],[3231,1253,0,1252,1,"INT"],[3232,1253,1,1252,2,"INT"],[3233,1252,0,683,0,"IMAGE"],[3234,1252,0,1254,0,"IMAGE"],[3235,680,0,683,1,"IMAGE"]],"groups":[{"title":"服装+背景一次生成","bounding":[-1270,-630,2613,898],"color":"#3f789e","font_size":24,"locked":false},{"title":"图像预处理","bounding":[-4400,-1350,1112,548],"color":"#3f789e","font_size":24,"locked":false},{"title":"用户输入","bounding":[-4418,-1926,1067,399],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{"ds":{"scale":0.8769226950000111,"offset":[1189.4873145310798,587.8260719204332]},"workspace_info":{"id":"8XgPXLmkrzXPkhYJ62Cwq","saveLock":false,"cloudID":null,"coverMediaPath":null}},"version":0.4}