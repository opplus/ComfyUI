{"last_node_id":162,"last_link_id":113,"nodes":[{"id":96,"type":"CLIPTextEncode","pos":[1132,-153],"size":{"0":400,"1":200},"flags":{"collapsed":true},"order":7,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":104,"label":"clip"},{"name":"text","type":"STRING","link":10,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[5],"shape":3,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":141,"type":"Reroute","pos":[1945,-639],"size":[75,26],"flags":{},"order":9,"mode":0,"inputs":[{"name":"","type":"*","link":110,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[84,85,97],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":65,"type":"CheckpointLoaderSimple","pos":[995,285],"size":{"0":315,"1":98},"flags":{},"order":0,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[106,108],"shape":3,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[107,109],"shape":3,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[4],"shape":3,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["sdxl/dreamshaperXL_v21TurboDPMSDE.safetensors"]},{"id":72,"type":"ImageResize+","pos":[1550,-394],"size":{"0":315,"1":218},"flags":{},"order":6,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":112,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[110],"shape":3,"label":"IMAGE","slot_index":0},{"name":"width","type":"INT","links":null,"shape":3,"label":"width"},{"name":"height","type":"INT","links":null,"shape":3,"label":"height"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[768,1024,"lanczos",false,"always",8]},{"id":97,"type":"CLIPTextEncode","pos":[1327,-69],"size":{"0":400,"1":200},"flags":{},"order":8,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":105,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[6],"shape":3,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["worst quality, normal quality, low quality, low res, blurry, text, watermark, logo, banner, extra digits, cropped, jpeg artifacts, signature, username, error, sketch, duplicate, ugly, monochrome, horror, geometry, mutation, disgusting "]},{"id":159,"type":"workflow/lora","pos":[1035,462],"size":{"0":405.5999755859375,"1":238},"flags":{},"order":5,"mode":0,"inputs":[{"name":"模型","type":"MODEL","link":106,"label":"模型"},{"name":"CLIP","type":"CLIP","link":107,"label":"CLIP"},{"name":"LoraLoader model","type":"MODEL","link":108,"label":"LoraLoader model"},{"name":"LoraLoader clip","type":"CLIP","link":109,"label":"LoraLoader clip"}],"outputs":[{"name":"模型","type":"MODEL","links":null,"shape":3,"label":"模型"},{"name":"CLIP","type":"CLIP","links":null,"shape":3,"label":"CLIP"},{"name":"LoraLoader 模型","type":"MODEL","links":[102],"shape":3,"label":"LoraLoader 模型"},{"name":"LoraLoader CLIP","type":"CLIP","links":[103,104,105],"shape":3,"label":"LoraLoader CLIP"}],"properties":{"Node name for S&R":"workflow/lora"},"widgets_values":["add-detail-xl.safetensors",0.73,0.76,"train_lora/20240617/0fc34073-501a-4626-8b58-c62b1b19fa54/spmf_20_w_0615/spmf_20_w_0615.safetensors",1,1]},{"id":161,"type":"LoadImage","pos":[1038,-672],"size":{"0":315,"1":314},"flags":{},"order":1,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[112],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["WX20240611-182500 (5).png","image"]},{"id":157,"type":"ImageBatch","pos":[2184.427312901743,-250.01223121552016],"size":{"0":210,"1":46},"flags":{},"order":12,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":100,"label":"image1"},{"name":"image2","type":"IMAGE","link":97,"label":"image2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[98],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ImageBatch"}},{"id":35,"type":"UltralyticsDetectorProvider","pos":[2042,-74],"size":{"0":315,"1":78},"flags":{"collapsed":true},"order":2,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[7],"shape":3,"label":"BBOX_DETECTOR"},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":null,"shape":3,"label":"SEGM_DETECTOR"}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/face_yolov8m.pt"]},{"id":17,"type":"SAMLoader","pos":[2047,-23],"size":{"0":315,"1":82},"flags":{"collapsed":true},"order":3,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[8],"shape":3,"label":"SAM_MODEL"}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_h_4b8939.pth","Prefer GPU"]},{"id":95,"type":"String Literal","pos":[885,-60],"size":{"0":400,"1":200},"flags":{},"order":4,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[10],"shape":3,"label":"STRING"}],"properties":{"Node name for S&R":"String Literal"},"widgets_values":["1girl,vividly,handsome,handsome_eyes,(smile:0.8),skin_texture,Vivid,light and shadow of details, handsome face,headshot,,best quality,highres,bright,Ultra clear details"]},{"id":153,"type":"ImageBatch","pos":[2186,-429],"size":{"0":210,"1":46},"flags":{},"order":10,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":84,"label":"image1"},{"name":"image2","type":"IMAGE","link":85,"label":"image2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[87,88],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ImageBatch"}},{"id":154,"type":"ImageBatch","pos":[2189,-337],"size":{"0":210,"1":46},"flags":{},"order":11,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":87,"label":"image1"},{"name":"image2","type":"IMAGE","link":88,"label":"image2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[100],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ImageBatch"}},{"id":18,"type":"FaceDetailer","pos":[2560,-140],"size":{"0":506.4000244140625,"1":900},"flags":{"collapsed":false},"order":13,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":98,"label":"image","slot_index":0},{"name":"model","type":"MODEL","link":102,"label":"model"},{"name":"clip","type":"CLIP","link":103,"label":"clip"},{"name":"vae","type":"VAE","link":4,"label":"vae"},{"name":"positive","type":"CONDITIONING","link":5,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":6,"label":"negative"},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":7,"label":"bbox_detector"},{"name":"sam_model_opt","type":"SAM_MODEL","link":8,"label":"sam_model_opt"},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"label":"segm_detector_opt"},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"detailer_hook"},{"name":"scheduler_func_opt","type":"SCHEDULER_FUNC","link":null,"label":"scheduler_func_opt"}],"outputs":[{"name":"image","type":"IMAGE","links":[91],"shape":3,"label":"image","slot_index":0},{"name":"cropped_refined","type":"IMAGE","links":null,"shape":6,"label":"cropped_refined"},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":null,"shape":6,"label":"cropped_enhanced_alpha"},{"name":"mask","type":"MASK","links":null,"shape":3,"label":"mask"},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":[],"shape":3,"label":"detailer_pipe","slot_index":4},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6,"label":"cnet_images"}],"properties":{"Node name for S&R":"FaceDetailer"},"widgets_values":[400,true,1024,195100023978123,"randomize",7,3,"dpmpp_sde","karras",0.5,10,true,true,0.5,10,3,"horizontal-2",5,0.5,10,0.5,"Small",25,"",2,true,20]},{"id":162,"type":"PreviewImage","pos":[3570,-430],"size":{"0":210,"1":246},"flags":{},"order":15,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":113,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":152,"type":"ImageSharpen","pos":[3190,-110],"size":{"0":315,"1":106},"flags":{"collapsed":false},"order":14,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":91,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[113],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ImageSharpen"},"widgets_values":[1,0.4,0.65]}],"links":[[4,65,2,18,3,"VAE"],[5,96,0,18,4,"CONDITIONING"],[6,97,0,18,5,"CONDITIONING"],[7,35,0,18,6,"BBOX_DETECTOR"],[8,17,0,18,7,"SAM_MODEL"],[10,95,0,96,1,"STRING"],[84,141,0,153,0,"IMAGE"],[85,141,0,153,1,"IMAGE"],[87,153,0,154,0,"IMAGE"],[88,153,0,154,1,"IMAGE"],[91,18,0,152,0,"IMAGE"],[97,141,0,157,1,"IMAGE"],[98,157,0,18,0,"IMAGE"],[100,154,0,157,0,"IMAGE"],[102,159,2,18,1,"MODEL"],[103,159,3,18,2,"CLIP"],[104,159,3,96,0,"CLIP"],[105,159,3,97,0,"CLIP"],[106,65,0,159,0,"MODEL"],[107,65,1,159,1,"CLIP"],[108,65,0,159,2,"MODEL"],[109,65,1,159,3,"CLIP"],[110,72,0,141,0,"*"],[112,161,0,72,0,"IMAGE"],[113,152,0,162,0,"IMAGE"]],"groups":[{"title":"Group","bounding":[2167,-492,239,305],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{"ds":{"scale":0.45000000000000107,"offset":{"0":-897.1165041431832,"1":1389.7894763110119}},"groupNodes":{"lora":{"nodes":[{"type":"LoraLoader","pos":[492,527],"size":{"0":315,"1":126},"flags":{},"order":6,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":null,"label":"模型"},{"name":"clip","type":"CLIP","link":null,"label":"CLIP"}],"outputs":[{"name":"MODEL","type":"MODEL","links":null,"shape":3,"label":"模型"},{"name":"CLIP","type":"CLIP","links":null,"shape":3,"label":"CLIP"}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["add-detail-xl.safetensors",0.73,0.76],"index":0},{"type":"LoraLoader","pos":[484,370],"size":{"0":315,"1":126},"flags":{},"order":7,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":null,"label":"模型"},{"name":"clip","type":"CLIP","link":null,"label":"CLIP"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[],"shape":3,"label":"模型"},{"name":"CLIP","type":"CLIP","links":[],"shape":3,"label":"CLIP"}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["train_lora/20240617/f368cf66-5777-46dc-b73d-3c3e99e798f8/spmf_20_w_0615/spmf_20_w_0615.safetensors",1,1],"index":1}],"links":[[null,0,0,0,65,"MODEL"],[null,1,0,1,65,"CLIP"],[null,0,1,0,65,"MODEL"],[null,1,1,1,65,"CLIP"]],"external":[[1,0,"MODEL"],[1,1,"CLIP"]]}},"workspace_info":{"id":"oCQxAfQhJ3IuPxVG-djj9","saveLock":false,"cloudID":null,"coverMediaPath":null}},"version":0.4}