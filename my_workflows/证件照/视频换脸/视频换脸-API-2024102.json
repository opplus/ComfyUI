{"last_node_id":46,"last_link_id":66,"nodes":[{"id":15,"type":"VHS_VideoCombine","pos":{"0":1070,"1":-800},"size":[310,860],"flags":{},"order":7,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":42,"label":"图像"},{"name":"audio","type":"AUDIO","link":65,"label":"音频","shape":7},{"name":"meta_batch","type":"VHS_BatchManager","link":null,"label":"批次管理","shape":7},{"name":"vae","type":"VAE","link":null,"shape":7},{"name":"frame_rate","type":"FLOAT","link":53,"widget":{"name":"frame_rate"},"label":"帧率"}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":[44],"slot_index":0,"shape":3,"label":"文件名"}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":15,"loop_count":0,"filename_prefix":"faceplay-1009-01","format":"video/nvenc_h264-mp4","pix_fmt":"yuv420p","bitrate":10,"megabit":true,"save_metadata":true,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"faceplay-1009-01_00130-audio.mp4","subfolder":"","type":"output","format":"video/nvenc_h264-mp4","frame_rate":29.850746268656717},"muted":true}}},{"id":40,"type":"SaveVideoToOssAndDisplay","pos":{"0":1770,"1":-780},"size":{"0":320,"1":80},"flags":{},"order":10,"mode":0,"inputs":[{"name":"input_path","type":"STRING","link":56,"widget":{"name":"input_path"},"label":"input_path"}],"outputs":[{"name":"STRING","type":"STRING","links":[57],"slot_index":0,"shape":3,"label":"STRING"}],"properties":{"Node name for S&R":"SaveVideoToOssAndDisplay"},"widgets_values":["","comfyui"]},{"id":12,"type":"ReActorBuildFaceModel","pos":{"0":680,"1":-40},"size":{"0":350,"1":174},"flags":{},"order":4,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":50,"label":"图像","shape":7},{"name":"face_models","type":"FACE_MODEL","link":null,"shape":7}],"outputs":[{"name":"FACE_MODEL","type":"FACE_MODEL","links":[],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ReActorBuildFaceModel"},"widgets_values":[false,false,"default","Mean",1]},{"id":41,"type":"Show any to JSON [Crystools]","pos":{"0":1910,"1":-560},"size":[360,120],"flags":{},"order":11,"mode":0,"inputs":[{"name":"any_value","type":"*","link":57,"label":"任意值","shape":7}],"outputs":[{"name":"string","type":"STRING","links":[],"slot_index":0,"shape":3,"label":"字符串"}],"properties":{"Node name for S&R":"Show any to JSON [Crystools]"}},{"id":43,"type":"LoadZipImageByUrl","pos":{"0":-330,"1":-740},"size":{"0":400,"1":200},"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"label":"IMAGE"},{"name":"STRING","type":"STRING","links":[58],"label":"STRING","slot_index":1}],"properties":{"Node name for S&R":"LoadZipImageByUrl"},"widgets_values":["oss://snapme/video_faceswap/Summer/Summer.mp4","path",1,"snapme",true]},{"id":33,"type":"Show any to JSON [Crystools]","pos":{"0":1470,"1":-780},"size":{"0":210,"1":80},"flags":{},"order":9,"mode":0,"inputs":[{"name":"any_value","type":"*","link":44,"label":"任意值","shape":7}],"outputs":[{"name":"string","type":"STRING","links":[56],"slot_index":0,"shape":3,"label":"字符串"}],"properties":{"Node name for S&R":"Show any to JSON [Crystools]"}},{"id":46,"type":"Show any to JSON [Crystools]","pos":{"0":610,"1":-890},"size":{"0":210,"1":80},"flags":{},"order":8,"mode":0,"inputs":[{"name":"any_value","type":"*","link":64,"label":"任意值","shape":7}],"outputs":[{"name":"string","type":"STRING","links":[],"slot_index":0,"shape":3,"label":"字符串"}],"properties":{"Node name for S&R":"Show any to JSON [Crystools]"}},{"id":37,"type":"VHS_VideoInfoSource","pos":{"0":650,"1":-710},"size":{"0":172,"1":106},"flags":{},"order":6,"mode":0,"inputs":[{"name":"video_info","type":"VHS_VIDEOINFO","link":66,"label":"视频信息"}],"outputs":[{"name":"fps🟨","type":"FLOAT","links":[53,64],"slot_index":0},{"name":"frame_count🟨","type":"INT","links":null},{"name":"duration🟨","type":"FLOAT","links":null},{"name":"width🟨","type":"INT","links":null},{"name":"height🟨","type":"INT","links":null}],"properties":{"Node name for S&R":"VHS_VideoInfoSource"},"widgets_values":{}},{"id":44,"type":"VHS_LoadVideoPath","pos":{"0":160,"1":-780},"size":[210,240],"flags":{},"order":3,"mode":0,"inputs":[{"name":"meta_batch","type":"VHS_BatchManager","link":null,"shape":7,"label":"批次管理"},{"name":"vae","type":"VAE","link":null,"shape":7},{"name":"video","type":"STRING","link":58,"widget":{"name":"video"},"label":"视频"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"label":"图像","slot_index":0},{"name":"frame_count","type":"INT","links":null,"label":"帧计数"},{"name":"audio","type":"AUDIO","links":[],"label":"音频","slot_index":2},{"name":"video_info","type":"VHS_VIDEOINFO","links":[],"label":"视频信息","slot_index":3}],"properties":{"Node name for S&R":"VHS_LoadVideoPath"},"widgets_values":{"video":"","force_rate":0,"force_size":"Disabled","custom_width":512,"custom_height":512,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"videopreview":{"hidden":false,"paused":false,"params":{"frame_load_cap":0,"skip_first_frames":0,"force_rate":0,"filename":"","type":"path","format":"video/","select_every_nth":1},"muted":true}}},{"id":45,"type":"VHS_LoadVideo","pos":{"0":-30,"1":-460},"size":[210,610],"flags":{},"order":2,"mode":0,"inputs":[{"name":"meta_batch","type":"VHS_BatchManager","link":null,"shape":7,"label":"批次管理"},{"name":"vae","type":"VAE","link":null,"shape":7}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[63],"label":"图像","slot_index":0},{"name":"frame_count","type":"INT","links":null,"label":"帧计数"},{"name":"audio","type":"AUDIO","links":[65],"label":"音频","slot_index":2},{"name":"video_info","type":"VHS_VIDEOINFO","links":[66],"label":"视频信息","slot_index":3}],"properties":{"Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"Summer (2).mp4","force_rate":0,"force_size":"Disabled","custom_width":512,"custom_height":512,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"choose video to upload":"image","videopreview":{"hidden":false,"paused":false,"params":{"frame_load_cap":0,"skip_first_frames":0,"force_rate":0,"filename":"Summer (2).mp4","type":"input","format":"video/mp4","select_every_nth":1},"muted":true}}},{"id":14,"type":"ReActorFaceSwap","pos":{"0":700,"1":-510},"size":{"0":315,"1":382},"flags":{},"order":5,"mode":0,"inputs":[{"name":"input_image","type":"IMAGE","link":63,"label":"目标图像"},{"name":"source_image","type":"IMAGE","link":62,"label":"源图像","shape":7},{"name":"face_model","type":"FACE_MODEL","link":null,"label":"面部模型","shape":7},{"name":"face_boost","type":"FACE_BOOST","link":null,"label":"面部增强","shape":7}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[42],"slot_index":0,"shape":3,"label":"图像"},{"name":"FACE_MODEL","type":"FACE_MODEL","links":null,"shape":3,"label":"面部模型"}],"properties":{"Node name for S&R":"ReActorFaceSwap"},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","none",1,0.5,"no","no","0","0",1,4]},{"id":27,"type":"LoadImage","pos":{"0":230,"1":-320},"size":[320,310],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[50,62],"slot_index":0,"shape":3,"label":"图像"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["02 (1).png","image"]}],"links":[[42,14,0,15,0,"IMAGE"],[44,15,0,33,0,"*"],[50,27,0,12,0,"IMAGE"],[53,37,0,15,4,"FLOAT"],[56,33,0,40,0,"STRING"],[57,40,0,41,0,"*"],[58,43,1,44,2,"STRING"],[62,27,0,14,1,"IMAGE"],[63,45,0,14,0,"IMAGE"],[64,37,0,46,0,"*"],[65,45,2,15,1,"AUDIO"],[66,45,3,37,0,"VHS_VIDEOINFO"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.7247295000000012,"offset":[218.62969172093517,994.7245037530339]},"workspace_info":{"id":"xE5wg2Q3J_QMD6FeiP88T","saveLock":false,"cloudID":null,"coverMediaPath":null}},"version":0.4}